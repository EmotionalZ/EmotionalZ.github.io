<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.17.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="ZYX_Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="ZYX&#39;s Blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="ZYX&#39;s Blog">
<meta property="og:description" content="ZYX_Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Zhao Yi Xiao">
<meta property="article:tag" content="zhao Blog">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>ZYX's Blog</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">ZYX's Blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Nothing Seek, Nothing Find</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="æœç´¢" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Zhao Yi Xiao</p>
  <div class="site-description" itemprop="description">ZYX_Blog</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">3</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/31/%E9%A1%B9%E7%9B%AE1%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Zhao Yi Xiao">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZYX's Blog">
      <meta itemprop="description" content="ZYX_Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ZYX's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/07/31/%E9%A1%B9%E7%9B%AE1%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">é¡¹ç›®1æ€»ç»“</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>
      

      <time title="åˆ›å»ºæ—¶é—´ï¼š2023-07-31 21:49:53 / ä¿®æ”¹æ—¶é—´ï¼š22:02:03" itemprop="dateCreated datePublished" datetime="2023-07-31T21:49:53+08:00">2023-07-31</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="æ¨å¹¿ç®¡ç†"><a href="#æ¨å¹¿ç®¡ç†" class="headerlink" title="æ¨å¹¿ç®¡ç†"></a>æ¨å¹¿ç®¡ç†</h1><h2 id="æ¨å¹¿ç®¡ç†-æ•´ä½“"><a href="#æ¨å¹¿ç®¡ç†-æ•´ä½“" class="headerlink" title="æ¨å¹¿ç®¡ç†-æ•´ä½“"></a>æ¨å¹¿ç®¡ç†-æ•´ä½“</h2><p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230722202540112.png" alt="image-20230722202540112"></p>
<p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230727093911162.png" alt="image-20230727093911162"></p>
<p>å‘½åè§„åˆ™ï¼šä¸‰å±‚ï¼šå±äºè°ï¼Œå«ä»€ä¹ˆï¼Œå¹²ä»€ä¹ˆ</p>
<p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230722230745458.png" alt="image-20230722230745458"></p>
<p>å•çº¯ç‚¹å‡»è®¿é—®ğŸ‘†</p>
<p>æ•°æ®åº“è¡¨</p>
<p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723121928721.png" alt="image-20230723121928721"></p>
<p>ä»ç™»å½•ä¸€è·¯ç‚¹è¿‡æ¥ï¼š</p>
<p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723162349112.png" alt="image-20230723162349112"></p>
<blockquote>
<p>è™½ç„¶æ˜¯ä¸‰ä¸ªä¸åŒçš„åŒºåŸŸç®¡ç†ï¼Œå®ç°çš„åŠŸèƒ½å…·ä½“åˆ°æ–¹æ³•æ— éå°±æ˜¯å¢åˆ æ”¹æŸ¥</p>
<p>è®¾è®¡å°±ä»ï¼šå…³é”®è¿˜æ˜¯SQLè¯­å¥ï¼Œæ‰€æœ‰çš„ä¸€åˆ‡éƒ½æœåŠ¡äºSQL</p>
<ol>
<li>è¯·æ±‚æ•°æ®ï¼ˆæ¥æ”¶-æ ¼å¼ï¼‰</li>
<li>å¤„ç†ï¼ˆcontrolleræ¥æ”¶æ•°æ®-JSONè½¬javaåŸºæœ¬ç±»å‹ã€è½¬serviceå®ç°æ•°æ®æ“ä½œsqlè¯­å¥é€»è¾‘ã€daoè¢«è°ƒç”¨-domainã€mapperçš„æ–¹æ³•ï¼‰</li>
<li>å“åº”æ•°æ®ï¼ˆç”Ÿæˆ-æ ¼å¼ï¼‰</li>
</ol>
<p>ä¸ºä»€ä¹ˆè¦æœ‰Serviceå±‚ï¼šï¼ŒåŒä¸€ä¸ªæ¥å£ä¼šæœ‰ä¸åŒçš„å®ç°æ–¹å¼ï¼šå¤šç§impl</p>
<p>ä¸€ä¸ªå…³é”®éœ€æ±‚ï¼šè¦æ±‚çš„å±‚çº§å…³ç³»è¿”å›å€¼ï¼Œæ•°æ®åº“ä¸­çš„æ•°æ®éƒ½æ˜¯å¹³çº§çš„å•æ¡æ•°æ®ï¼š</p>
<ol>
<li><p>å®ç°1ï¼šå¤šæ¡sqlè¯­å¥ï¼šmybatisçš„å¤šè¡¨æŸ¥è¯¢ï¼šè‡ªå·±åœ¨å¯¹åº”çš„Mapperä¸­åŠ è¯­å¥</p>
</li>
<li><p>å®ç°2ï¼šç”¨javaé›†åˆç±»+ä¸‰å±‚å¾ªç¯</p>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230724103110115.png" alt="image-20230724103110115"></p>
</li>
<li><p>å®ç°3ï¼šJava+MySql</p>
</li>
<li><p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230724100603262.png" alt="image-20230724100603262"></p>
</li>
</ol>
<hr>
<p>MyBatis Generatorç”Ÿæˆç±»æ‰§è¡ŒCRUDæ“ä½œçš„è°ƒç”¨é“¾:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[Service] --&gt; B[DAO]</span><br><span class="line">B --&gt; C[Mapper]</span><br><span class="line">C --&gt; D[SQL]</span><br><span class="line">D --&gt; E[Database]</span><br><span class="line"></span><br><span class="line">classDef grey fill:#ddd,stroke:#fff,stroke-width:2px;</span><br><span class="line">class A,E grey</span><br></pre></td></tr></table></figure>

<p>ä»£ç ç¤ºä¾‹:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¢</span></span><br><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(); <span class="comment">//æ¨¡å‹ç±»</span></span><br><span class="line">userMapper.insert(user); <span class="comment">//Mapperæ¥å£</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ  </span></span><br><span class="line"><span class="type">UserExample</span> <span class="variable">example</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserExample</span>(); <span class="comment">//Exampleç±»</span></span><br><span class="line">example.createCriteria().andIdEqualTo(<span class="number">1</span>);</span><br><span class="line">userMapper.deleteByExample(example);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ”¹</span></span><br><span class="line"><span class="type">User</span> <span class="variable">updateUser</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">updateUser.setId(<span class="number">1</span>);</span><br><span class="line">userMapper.updateByPrimaryKey(updateUser); </span><br><span class="line"></span><br><span class="line"><span class="comment">//æŸ¥</span></span><br><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userMapper.selectByPrimaryKey(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<p>æµç¨‹è¯´æ˜:</p>
<ul>
<li>Serviceå±‚è°ƒç”¨DAOå±‚ </li>
<li>DAOå®ç°ç±»è°ƒç”¨Mapperæ¥å£</li>
<li>Mapperæ¥å£æ‰§è¡ŒSQLè¯­å¥</li>
<li>SQLæ“ä½œæ•°æ®åº“å®ŒæˆCRUD</li>
</ul>
<p>å¯ä»¥çœ‹åˆ°ä»£ç è°ƒç”¨é“¾ä»Serviceåˆ°æ•°æ®åº“,åˆ©ç”¨ç”Ÿæˆç±»å¯ä»¥é«˜æ•ˆå®ç°CRUDæ“ä½œã€‚</p>
</blockquote>
<h3 id="controllerä¸»è¦è´Ÿè´£ï¼š"><a href="#controllerä¸»è¦è´Ÿè´£ï¼š" class="headerlink" title="controllerä¸»è¦è´Ÿè´£ï¼š"></a>controllerä¸»è¦è´Ÿè´£ï¼š</h3><ol>
<li><p>æ¥æ”¶è¯·æ±‚ä¿¡æ¯ï¼Œé€ Beanå¯¹è±¡ï¼ˆç”±Generatoråˆ›å»ºçš„å’Œæ•°æ®åº“è¡¨å¯¹åº”çš„Beanç±»ï¼‰</p>
<blockquote>
<ol>
<li>å¯¹æ•°æ®åº“æœ‰ä¿®æ”¹çš„ä¸€èˆ¬æ˜¯Postè¯·æ±‚ï¼Œåªæ˜¯æŸ¥çœ‹çš„æ˜¯Getè¯·æ±‚</li>
<li>Postè¯·æ±‚éœ€è¦åœ¨è¯·æ±‚ä½“ä¸­è·å–ä¿¡æ¯ï¼Œå› ä¸ºä¼ æ¥çš„JSONä¿¡æ¯ï¼Œéœ€è¦ç”¨åˆ°<strong>JacksonUtil</strong>è¿›è¡Œç±»å‹è½¬æ¢ï¼Œæœ‰ä¸¤ç§æ€è·¯ï¼š<ol>
<li>é€æ¡è·å–å¹¶è½¬æ¢å‚æ•°ï¼Œæœ‰åŸºç¡€ç±»å‹å’Œå…¶ä»–ç±»å‹ä¸¤ç§å†™æ³•</li>
<li>å…ˆå¾—åˆ°è¯·æ±‚ä½“ååˆ©ç”¨ObjectMapperæ•´ä½“è½¬æ¢ï¼Œä¸ä¸Šç›¸æ¯”éœ€è¦å¤šåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨ä¼ å…¥å‚æ•°è¾ƒå¤šçš„æƒ…å†µä¸‹ä½¿ç”¨æ¯”è¾ƒæ–¹ä¾¿</li>
</ol>
</li>
<li>Getè¯·æ±‚éœ€è¦ä»è¯·æ±‚å¤´ä¸­è·å–ä¿¡æ¯ï¼Œåªæœ‰req.getParameterä¸€ç§å¯ç”¨</li>
</ol>
</blockquote>
</li>
<li><p>é€šè¿‡å°†Beanå¯¹è±¡æˆ–ä¸ªåˆ«å‚æ•° å¡«å…¥ æ–°å»ºServiceæ¥å£çš„å®ç°ç±»ä¸­ï¼Œè¿”å›å€¼å³ç»“æœé›†æˆ–å¤„ç†è¿‡çš„ç»“æœ</p>
</li>
<li><p>æ ¹æ®éœ€è¦é€ è¿”å›ä½“ï¼Œéœ€è¦<strong>ResponseUtil</strong>å½¢æˆæˆåŠŸæˆ–è€…å¤±è´¥çš„å“åº”æ ¼å¼ï¼Œå†ç”¨<strong>resp</strong>+<strong>JacksonUtil</strong>è¾“å‡ºã€‚å¦‚æœåˆ†å¤šé›†ï¼Œå¯ä»¥å…ˆç”¨Map&lt;String, Object&gt;çš„å½¢å¼å°†ç»“æœé›†ï¼ˆå½“ä¸ªå¯¹è±¡æˆ–è€…å¯¹è±¡æ•°ç»„æˆ–é›†åˆï¼‰å¡«å…¥å¯¹åº”çš„â€œkeyâ€ä¸­ï¼Œä¸ºäº†å¯¹åº”JSONæ ¼å¼</p>
</li>
</ol>
<h3 id="serviceä¸»è¦è´Ÿè´£ï¼š"><a href="#serviceä¸»è¦è´Ÿè´£ï¼š" class="headerlink" title="serviceä¸»è¦è´Ÿè´£ï¼š"></a>serviceä¸»è¦è´Ÿè´£ï¼š</h3><p>æ¥å£è§„å®šï¼Œè¿æ¥controllerå’Œdaoå±‚æ“ä½œ</p>
<ol>
<li>éœ€è¦å»ºç«‹<strong>SqlSession</strong>ã€ç›¸å…³Beanå¯¹è±¡ï¼ˆçœ‹SQLçš„è¿”å›ç»“æœï¼Œå¦‚æœæ˜¯å¢åˆ æ”¹å¯ä»¥åªè®¾ç½®ä¸€ä¸ªintæ¥æ”¶æ”¹åŠ¨è¡Œæ•°ï¼‰åŠå…¶<strong>Mapper</strong>ï¼ˆå…¶ä¸­å«æœ‰Mybatis-Generatorç”Ÿæˆçš„åŸºæœ¬SQLæ“ä½œï¼šå¢åˆ æ”¹æŸ¥çš„byExampleã€byPrimarykeyã€oneç­‰ï¼‰<ol>
<li>å…¶ä¸­å¦‚æœç”¨åˆ°äº†æŸ¥è¯¢æ“ä½œéœ€è¦åˆ›å»ºå¯¹åº”å¯¹è±¡çš„<strong>Example</strong>ç±»ï¼Œå…¶ä¸­çš„criteriaå†…éƒ¨ç±»è´Ÿè´£æŸ¥è¯¢æ¡ä»¶çš„æ‹¼æ¥</li>
<li>å¦‚æœéœ€è¦å¤šè¡¨è”æŸ¥ç­‰å¤æ‚æ“ä½œå¯ä»¥è‡ªå·±å®šä¹‰ä¸€ä¸ªMapper</li>
<li>ä»¥ä¸Šä»¥ä¸‹æ¶‰åŠçš„éœ€è¦ä¾èµ–æ³¨å…¥çš„éƒ¨åˆ†</li>
</ol>
</li>
<li>æœ€åå¯æ ¹æ®daoçš„æŸ¥è¯¢ç»“æœè¿”å›ç»™controllerä¸€ä¸ªå¯¹è±¡</li>
</ol>
<h3 id="daoå±‚ä¸»è¦è´Ÿè´£"><a href="#daoå±‚ä¸»è¦è´Ÿè´£" class="headerlink" title="daoå±‚ä¸»è¦è´Ÿè´£"></a>daoå±‚ä¸»è¦è´Ÿè´£</h3><p>æœ¬é¡¹ç›®çš„daoå±‚åŸºæœ¬ä¸Šéƒ½æ˜¯MBç”Ÿæˆçš„åŒ…æ‹¬domainã€mapperã€typehandlerï¼ŒåŸºæœ¬ä¸Šæ¶µç›–äº†æ‰€æœ‰çš„daoå±‚æ“ä½œã€‚æ¯”è¾ƒå¤æ‚çš„å¤šå¯¹å¤šçš„å¤šè¡¨è”æŸ¥éœ€è¦è‡ªå·±è®¾ç½®ï¼šVOã€BOç±»ã€Mapperæ¥å£ä»¥åŠå¯¹åº”çš„Mapper.xml</p>
<h2 id="åŠŸèƒ½ï¼š"><a href="#åŠŸèƒ½ï¼š" class="headerlink" title="åŠŸèƒ½ï¼š"></a>åŠŸèƒ½ï¼š</h2><h3 id="listæ–¹æ³•"><a href="#listæ–¹æ³•" class="headerlink" title="listæ–¹æ³•"></a>listæ–¹æ³•</h3><ol>
<li>æ€è·¯<ul>
<li>æŸ¥è¯¢å¹¿å‘Š&#x2F;ä¸“é¢˜åˆ—è¡¨,å¯åˆ†é¡µå’ŒæŒ‰æ¡ä»¶æŸ¥è¯¢</li>
<li>è¿”å›å¹¿å‘Š&#x2F;ä¸“é¢˜çš„ç®€è¦ä¿¡æ¯,å¦‚IDã€åç§°ã€çŠ¶æ€ç­‰</li>
</ul>
</li>
<li>å®ç°<ol>
<li>controllerè¯»å–Getè¯·æ±‚æ•°æ®ï¼šå…¶ä¸­åŒ…å«é¡µæ•°ä¿¡æ¯å‚æ•°</li>
<li>serviceæŸ¥è¯¢ï¼Œæ¡ä»¶ä¸­è¦åŠ å…¥é€»è¾‘åˆ é™¤åˆ¤æ–­</li>
<li></li>
</ol>
</li>
</ol>
<h3 id="createæ–¹æ³•"><a href="#createæ–¹æ³•" class="headerlink" title="createæ–¹æ³•"></a>createæ–¹æ³•</h3><ol>
<li><p>æ€è·¯ï¼š</p>
<ul>
<li><p>åˆ›å»ºæ–°çš„å¹¿å‘Š&#x2F;ä¸“é¢˜æ•°æ®</p>
</li>
<li><p>å°è£…å¹¿å‘Š&#x2F;ä¸“é¢˜çš„ä¿¡æ¯,æ’å…¥æ•°æ®åº“</p>
</li>
<li><p>è¿”å›åˆ›å»ºæˆåŠŸçš„å¹¿å‘Š&#x2F;ä¸“é¢˜çš„ID</p>
</li>
</ul>
</li>
<li><p>å®ç°ï¼š</p>
<ol>
<li><p>Conrollerè¯»å–è¯·æ±‚ä¸­JSONæ•°æ®ï¼š</p>
<ol>
<li><p>å¦‚æœå•æ¡æ•°æ®ï¼Œä¸ç”¨å»ºç«‹å¯¹è±¡ï¼Œçœäº‹</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> JacksonUtil.parseString(requestBody, <span class="string">&quot;username&quot;</span>);</span><br></pre></td></tr></table></figure>

</li>
<li><p><a name="å¦‚æœæ•°æ®è¿‡å¤šï¼Œå‘ˆå¯¹è±¡å½¢å¼_2" href="#å¦‚æœæ•°æ®è¿‡å¤šï¼Œå‘ˆå¯¹è±¡å½¢å¼_1"><strong>å¦‚æœæ•°æ®è¿‡å¤šï¼Œå‘ˆå¯¹è±¡å½¢å¼</strong></a></p>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230725134005658.png" alt="image-20230725134005658"></p>
</li>
</ol>
</li>
<li><p>serviceå±‚ä¸­å…ˆåˆ¤æ–­åº“ä¸­æ˜¯å¦æœ‰å­˜åœ¨ï¼Œæ²¡æœ‰çš„è¯ç›´æ¥insert</p>
<ol>
<li><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230725195918269.png" alt="image-20230725195918269"></li>
</ol>
</li>
<li><p>å›åˆ°controllerä¸­åˆ¤æ–­æ˜¯å¦è¿”å›ç©ºå€¼ï¼Œå¦‚æœè¿”å›å€¼ä¸ä¸ºç©ºå°±è¯´æ˜æˆåŠŸ</p>
</li>
</ol>
</li>
</ol>
<h3 id="updateæ–¹æ³•"><a href="#updateæ–¹æ³•" class="headerlink" title="updateæ–¹æ³•"></a>updateæ–¹æ³•</h3><ol>
<li><p>æ€è·¯</p>
<ul>
<li><p>æ›´æ–°å·²å­˜åœ¨çš„å¹¿å‘Š&#x2F;ä¸“é¢˜æ•°æ®</p>
</li>
<li><p>æ ¹æ®å¹¿å‘Š&#x2F;ä¸“é¢˜IDæŸ¥æ‰¾æ•°æ®,ç„¶åæ›´æ–°å…¶å±æ€§</p>
</li>
<li><p>å¦‚å¯ç”¨&#x2F;ç¦ç”¨å¹¿å‘Š,ä¿®æ”¹ä¸“é¢˜åç§°ç­‰</p>
</li>
</ul>
</li>
<li><p>å®ç°ï¼š</p>
<ol>
<li><a name="å¦‚æœæ•°æ®è¿‡å¤šï¼Œå‘ˆå¯¹è±¡å½¢å¼_1" href="#å¦‚æœæ•°æ®è¿‡å¤šï¼Œå‘ˆå¯¹è±¡å½¢å¼_2"><strong>å¦‚æœæ•°æ®è¿‡å¤šï¼Œå‘ˆå¯¹è±¡å½¢å¼</strong></a></li>
<li>å°†æ•°æ®åˆ¤æ–­åå°†domainå¯¹è±¡ä¼ ç»™Serviceå®ç°ï¼Œä¸€å¥updateByPrimaryKeyæå®š</li>
<li>è¿”å›å‰åˆ¤æ–­</li>
</ol>
</li>
</ol>
<h3 id="deleteæ–¹æ³•"><a href="#deleteæ–¹æ³•" class="headerlink" title="deleteæ–¹æ³•"></a>deleteæ–¹æ³•</h3><ol>
<li><p>æ€è·¯</p>
<ul>
<li><p>åˆ é™¤å·²å­˜åœ¨çš„å¹¿å‘Š&#x2F;ä¸“é¢˜æ•°æ®</p>
</li>
<li><p>æ ¹æ®å¹¿å‘Š&#x2F;ä¸“é¢˜IDåœ¨æ•°æ®åº“ä¸­å°†å…¶æ ‡è®°ä¸ºåˆ é™¤</p>
</li>
<li><p>æ‰¹é‡åˆ é™¤æ—¶å¯ä¼ å…¥å¤šä¸ªIDè¿›è¡Œåˆ é™¤</p>
</li>
</ul>
</li>
<li><p>å®ç°ï¼š</p>
<ol>
<li></li>
</ol>
</li>
</ol>
<h3 id="listUseræ–¹æ³•"><a href="#listUseræ–¹æ³•" class="headerlink" title="listUseræ–¹æ³•"></a>listUseræ–¹æ³•</h3><ol>
<li><p>æ€è·¯ï¼š</p>
<ul>
<li><p>æŸ¥è¯¢æŸä¸ªä¼˜æƒ åˆ¸çš„é¢†å–ç”¨æˆ·åˆ—è¡¨ï¼›</p>
<p>  é€šè¿‡ä¼ é€’ä¼˜æƒ åˆ¸ID,å¯ä»¥æŸ¥è¯¢å‡ºæ‰€æœ‰å·²ç»é¢†å–è¿™ä¸ªä¼˜æƒ åˆ¸çš„ç”¨æˆ·ä¿¡æ¯,åŒ…æ‹¬ç”¨æˆ·IDã€é¢†å–æ—¶é—´ç­‰ã€‚</p>
</li>
<li><p>æŸ¥è¯¢æŸä¸ªç”¨æˆ·é¢†å–çš„ä¼˜æƒ åˆ¸åˆ—è¡¨ï¼›</p>
<p>  é€šè¿‡ä¼ é€’ç”¨æˆ·ID,å¯ä»¥æŸ¥è¯¢å‡ºè¯¥ç”¨æˆ·æ‰€æœ‰çš„ä¼˜æƒ åˆ¸ä¿¡æ¯,åŒ…æ‹¬ä¼˜æƒ åˆ¸åç§°ã€é¢å€¼ã€æœ‰æ•ˆæœŸç­‰ã€‚</p>
</li>
<li><p>æ¡ä»¶æŸ¥è¯¢ç”¨æˆ·é¢†å–æƒ…å†µï¼š</p>
<p>  å¯ä»¥ä¼ å…¥è¿‡æ»¤æ¡ä»¶,æ¯”å¦‚é¢†å–æ—¶é—´èŒƒå›´ã€ä¼˜æƒ åˆ¸ç±»å‹ç­‰,æŸ¥è¯¢æ»¡è¶³è¿™äº›æ¡ä»¶çš„ç”¨æˆ·-ä¼˜æƒ åˆ¸ä¿¡æ¯ã€‚</p>
</li>
<li><p>ç»Ÿè®¡ä¼˜æƒ åˆ¸é¢†å–ç”¨æˆ·æ•°é‡ï¼š</p>
<p>  å¯ä»¥ç»Ÿè®¡æŸä¸ªä¼˜æƒ åˆ¸è¢«é¢†å–çš„æ€»äººæ•°ã€‚</p>
</li>
<li><p>åˆ†é¡µæŸ¥è¯¢ç”¨æˆ·é¢†å–åˆ—è¡¨ï¼š</p>
<p>  å¯ä»¥å¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œåˆ†é¡µ,ç„¶åè¿”å›æŒ‡å®šé¡µç çš„æ•°æ®ã€‚</p>
</li>
<li><p>æ’åºæŸ¥è¯¢ç”¨æˆ·é¢†å–åˆ—è¡¨ï¼š</p>
<p>  å¯ä»¥æŒ‰ä¸€å®šé¡ºåº(æ—¶é—´ã€å­—æ¯ç­‰)æ’åºè¿”å›ç”¨æˆ·é¢†å–çš„ä¼˜æƒ åˆ¸åˆ—è¡¨ã€‚</p>
</li>
</ul>
</li>
<li><p>å®ç°ï¼š</p>
<ol>
<li>123</li>
</ol>
</li>
</ol>
<h2 id="åŠŸèƒ½å®ç°ï¼š"><a href="#åŠŸèƒ½å®ç°ï¼š" class="headerlink" title="åŠŸèƒ½å®ç°ï¼š"></a>åŠŸèƒ½å®ç°ï¼š</h2><h3 id="adï¼šå¹¿å‘Šç®¡ç†"><a href="#adï¼šå¹¿å‘Šç®¡ç†" class="headerlink" title="adï¼šå¹¿å‘Šç®¡ç†"></a><strong>adï¼šå¹¿å‘Šç®¡ç†</strong></h3><h4 id="list"><a href="#list" class="headerlink" title="list"></a><strong>list</strong></h4><ol>
<li><p>è¯·æ±‚å“åº”ï¼š</p>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230725144825577.png" alt="image-20230725144825577"></p>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230725150427832.png" alt="image-20230725150427832"></p>
</li>
<li><p>å®ç°</p>
<ol>
<li>åœ¨æœç´¢è¿‡åæ²¡æ³•å…¨éƒ¨æ˜¾ç¤º</li>
</ol>
</li>
</ol>
<h4 id="create"><a href="#create" class="headerlink" title="create"></a><strong>create</strong></h4><ol>
<li><p>æ¶ˆæ¯ï¼šä¸‰ä¸ªåˆ†åˆ«æ˜¯ï¼š</p>
<p> optionã€postè¯·æ±‚å“åº”ã€å‰ç«¯ç”Ÿæˆæ¶ˆæ¯æé†’</p>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723124453794.png" alt="image-20230723124453794"></p>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230726150128954.png" alt="image-20230726150128954"></p>
<p> è¯·æ±‚ã€å“åº”å†…å®¹ï¼š</p>
<p>  <a name="ä¸Šä¼ å›¾ç‰‡ï¼šåœ¨createä¹‹å‰å¦‚æœæœ‰æ–‡ä»¶å°±å…ˆä¸Šä¼ æ–‡ä»¶ï¼Œç”¨admin/storage/create_1" href="#ä¸Šä¼ å›¾ç‰‡ï¼šåœ¨createä¹‹å‰å¦‚æœæœ‰æ–‡ä»¶å°±å…ˆä¸Šä¼ æ–‡ä»¶ï¼Œç”¨admin/storage/create_2"><strong>ä¸Šä¼ å›¾ç‰‡ï¼šåœ¨createä¹‹å‰å¦‚æœæœ‰æ–‡ä»¶å°±å…ˆä¸Šä¼ æ–‡ä»¶ï¼Œç”¨admin&#x2F;storage&#x2F;create</strong></a></p>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723125730429.png" alt="image-20230723125730429"></p>
<p> 123</p>
<p> 123</p>
<p> 123</p>
<p> 123</p>
</li>
<li><p>å¯¹åº”æ•°æ®åº“å†…å®¹</p>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723104528237.png" alt="image-20230723104528237"></p>
</li>
<li><p>æµç¨‹</p>
 <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/create%E6%B5%81%E7%A8%8B.png" alt="createæµç¨‹" style="zoom:200%;" />

<ul>
<li><p>å‰ç«¯å‘é€ä¸Šä¼ æ–‡ä»¶è¯·æ±‚</p>
<ul>
<li><span style=color:#34495e;background:#EBFFEB><strong>é—®é¢˜</strong></span>ï¼šä¸ºä»€ä¹ˆè¯·æ±‚ä¸­çš„urlå°±å·²ç»æ˜¯URLå½¢å¼ï¼Œä»€ä¹ˆæ—¶å€™å¤„ç†çš„æ–‡ä»¶ä¸Šä¼ ï¼Ÿ<ul>
<li>æœ‰ä¸ªadmin&#x2F;storage&#x2F;createï¼Œå­˜å›¾ç‰‡åˆ°wx&#x2F;storageï¼Œå¹¶ä¸”æŠŠåå­—ç»™æ¢äº†</li>
</ul>
</li>
</ul>
</li>
<li><p>æœåŠ¡å™¨ç«¯æ¥æ”¶è¯·æ±‚å¹¶å¤„ç†æ–‡ä»¶æ•°æ®ï¼š</p>
<ol>
<li><p>è¯·æ±‚ä½“ä¸­è·å–æ•°æ®ï¼ŒJSONè½¬Javaå¯¹è±¡</p>
</li>
<li><p>åˆ¤æ–­å†…å®¹æ˜¯å¦ç¬¦åˆè¦æ±‚</p>
<ol>
<li>nameã€contentã€urlä¸èƒ½ä¸ºç©º</li>
<li>å›¾ç‰‡ä¸Šä¼ å¤§å°ã€æ ¼å¼é™åˆ¶</li>
</ol>
 <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723122130371.png" alt="image-20230723122130371" style="zoom:33%;" />
</li>
<li><p>è¿›è¡Œæ•°æ®åº“æ“ä½œ</p>
</li>
</ol>
</li>
<li><p>æ§åˆ¶å™¨å±‚ä¸ä¸šåŠ¡å±‚åä½œä¿å­˜æ–‡ä»¶å’Œæ•°æ®</p>
</li>
<li><p>æ•°æ®åº“æ‰§è¡Œæ’å…¥æ“ä½œ</p>
</li>
<li><p>è¿”å›å“åº”ç»™å‰ç«¯</p>
</li>
</ul>
</li>
</ol>
<h4 id="update"><a href="#update" class="headerlink" title="update"></a><strong>update</strong></h4><ol>
<li><p>è¯·æ±‚å“åº”</p>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723142144075.png" alt="image-20230723142144075"></p>
 <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723142203580.png" alt="image-20230723142203580" style="zoom: 50%;" />
</li>
<li><p>æµç¨‹:</p>
</li>
<li><p>123</p>
</li>
</ol>
<h4 id="delete"><a href="#delete" class="headerlink" title="delete"></a><strong>delete</strong></h4><ol>
<li><p>å“åº”è¯·æ±‚ï¼š</p>
<ol>
<li>å…ˆåˆ é™¤ï¼Œåå±•ç¤º</li>
</ol>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723110823474.png" alt="image-20230723110823474"></p>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723110903490.png" alt="image-20230723110903490" style="zoom: 80%;" /><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723111022855.png" alt="image-20230723111022855" style="zoom: 67%;" /></p>
</li>
<li><p>æµç¨‹å›¾</p>
 <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/delete%E6%B5%81%E7%A8%8B%E5%9B%BE.png" alt="deleteæµç¨‹å›¾" style="zoom:200%;" />

<ul>
<li>å‰ç«¯å‘é€åˆ é™¤è¯·æ±‚,è¯·æ±‚ä¸­åŒ…å«åˆ é™¤æ¡ä»¶</li>
<li>æœåŠ¡å™¨æ¥æ”¶è¯·æ±‚,æ§åˆ¶å™¨å±‚è§£æè¯·æ±‚</li>
<li>ä¸šåŠ¡å±‚å¤„ç†è¯·æ±‚,æ„å»ºåˆ é™¤æ¡ä»¶</li>
<li>è°ƒç”¨DAOæ‰§è¡Œæ•°æ®åº“åˆ é™¤æ“ä½œ</li>
<li>æ•°æ®åº“æ ¹æ®æ¡ä»¶æ‰§è¡ŒDELETEæ“ä½œ</li>
<li>è¿”å›å“åº”ç»™å‰ç«¯</li>
<li>å‰ç«¯è·å–å¹¶å¤„ç†å“åº”</li>
</ul>
</li>
</ol>
<h3 id="couponï¼šä¼˜æƒ åˆ¸ç®¡ç†"><a href="#couponï¼šä¼˜æƒ åˆ¸ç®¡ç†" class="headerlink" title="couponï¼šä¼˜æƒ åˆ¸ç®¡ç†"></a>couponï¼šä¼˜æƒ åˆ¸ç®¡ç†</h3><p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723211541172.png" alt="image-20230723211541172"></p>
<h4 id="â­list"><a href="#â­list" class="headerlink" title="â­list"></a>â­list</h4><ol>
<li><p>è¯·æ±‚&#x2F;å“åº”ï¼š</p>
<ol>
<li>ç‚¹å‡»ä¼˜æƒ åˆ¸ç®¡ç†åŒæ—¶å‘ä¸‰ä¸ªGETè¯·æ±‚ï¼šgoods&#x2F;listã€coupon&#x2F;listã€category&#x2F;list</li>
</ol>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723212950884.png" alt="image-20230723212950884"></p>
</li>
</ol>
<img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723212507589.png" alt="image-20230723212507589"  />

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET /admin/coupon/list?page=<span class="number">1</span>&amp;limit=<span class="number">20</span>&amp;sort=add_time&amp;order=desc HTTP/<span class="number">1.1</span></span><br></pre></td></tr></table></figure>



<ol start="2">
<li>æ˜¾ç¤ºåˆ·æ–°è¿‡ä¹‹åæ–°å¢çš„æ²¡äº†ï¼Œå¯èƒ½æ˜¯createè®¾ç½®çš„morendeleteæ˜¯trueï¼Ÿ</li>
</ol>
<h4 id="â­create"><a href="#â­create" class="headerlink" title="â­create"></a>â­create</h4><ol>
<li><p>è¯·æ±‚&#x2F;å“åº”ï¼š</p>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723212907523.png" alt="image-20230723212907523"></p>
 <img src="C:/Users/ä½•/AppData/Roaming/Typora/typora-user-images/image-20230723212839260.png" alt="image-20230723212839260" style="zoom:50%;" />

<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230724142643777.png" alt="image-20230724142643777"></p>
<p> ğŸ‘†ä¸€ä¸ªé—®é¢˜ï¼šä¼ å…¥çš„goodsvalueæ˜¯å­—ç¬¦ä¸²ï¼Œæ•°æ®åº“ä¸­æ˜¯Integer[]<em>éœ€è¦ç”¨åˆ°mybatis-generatorä¸­çš„typehandlerï¼šè‡ªå®šä¹‰handler</em>ï¼šåˆ›å»ºæ•°æ®</p>
</li>
<li><p>å®ç°</p>
</li>
<li></li>
</ol>
<h4 id="update-1"><a href="#update-1" class="headerlink" title="update"></a>update</h4><ol>
<li>è¯·æ±‚å“åº”<ol>
<li><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723221410238.png" alt="image-20230723221410238"></li>
<li><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723221353847.png" alt="image-20230723221353847" style="zoom: 67%;" /></li>
</ol>
</li>
<li>å®ç°</li>
</ol>
<h4 id="delete-1"><a href="#delete-1" class="headerlink" title="delete"></a>delete</h4><ol>
<li>è¯·æ±‚å“åº”ï¼š<ol>
<li><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723221527417.png" alt="image-20230723221527417"></li>
<li><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723221602881.png" alt="image-20230723221602881" style="zoom:50%;" /></li>
</ol>
</li>
<li>å®ç°</li>
</ol>
<p>è¾“å…¥idï¼Œé€»è¾‘åˆ é™¤å¯¹åº”</p>
<h4 id="listuser"><a href="#listuser" class="headerlink" title="listuser"></a>listuser</h4><ol>
<li>ä¸šåŠ¡åˆ†æï¼š</li>
</ol>
<p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723174306174.png" alt="image-20230723174306174"></p>
<p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723174316807.png" alt="image-20230723174316807"></p>
<p>ç‚¹å‡»ä¼˜æƒ åˆ¸è¯¦æƒ…åä¼šå‘æ¥ä¸¤ä¸ªGetè¯·æ±‚ï¼š<strong>read</strong>ï¼ˆæ ¹æ®IDè·å–è´­ç‰©åˆ¸è¯¦æƒ…ï¼‰ã€<strong>listuser</strong>ï¼ˆæ ¹æ®ID+åˆ†é¡µä¿¡æ¯è·å–ç›¸å…³Userçš„ä¿¡æ¯ï¼‰</p>
<p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723171930127.png" alt="image-20230723171930127"></p>
<p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723174848532.png" alt="image-20230723174848532" style="zoom: 67%;" /><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723172005113.png" alt="image-20230723172005113" style="zoom: 67%;" /></p>
<p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723174420458.png" alt="image-20230723174420458"></p>
<p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723174432336.png" alt="image-20230723174432336"></p>
<ol start="2">
<li>å®ç°ï¼š<ol>
<li>doGetåˆ†å‘</li>
<li></li>
</ol>
</li>
<li>é˜¿æ–¯é¡¿ï¼š</li>
</ol>
<h3 id="topicï¼šä¸“é¢˜ç®¡ç†"><a href="#topicï¼šä¸“é¢˜ç®¡ç†" class="headerlink" title="topicï¼šä¸“é¢˜ç®¡ç†"></a>topicï¼šä¸“é¢˜ç®¡ç†</h3><p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723211546586.png" alt="image-20230723211546586"></p>
<h4 id="read"><a href="#read" class="headerlink" title="read"></a>read</h4><ol>
<li><p>è¯·æ±‚å“åº”</p>
<p> 123</p>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230725203813099.png" alt="image-20230725203813099"></p>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230725203935029.png" alt="image-20230725203935029"></p>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230725203723022.png" alt="image-20230725203723022"></p>
</li>
<li><p>å®ç°ï¼š</p>
<ol>
<li>éœ€è¦æ ¹æ®å…¶ä¸­çš„goodsæ‰¾goods</li>
</ol>
</li>
</ol>
<h4 id="list-1"><a href="#list-1" class="headerlink" title="list"></a>list</h4><ol>
<li>è¯·æ±‚&#x2F;å“åº”ï¼š<ol>
<li><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723220004739.png" alt="image-20230723220004739"></li>
<li><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723220101532.png" alt="image-20230723220101532" style="zoom: 50%;" /><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723220104669.png" alt="image-20230723220104669" style="zoom:50%;" /></li>
</ol>
</li>
<li>å®ç°ï¼š</li>
</ol>
<h4 id="create-1"><a href="#create-1" class="headerlink" title="create"></a>create</h4><ol>
<li><p>è¯·æ±‚&#x2F;å“åº”</p>
<ol>
<li><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723215149623.png" alt="image-20230723215149623"></li>
<li><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723220207766.png" alt="image-20230723220207766"  /></li>
<li><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230724195743187.png" alt="image-20230724195743187"></li>
</ol>
</li>
<li><p>å®ç°</p>
<ol>
<li><p>ç±»å‹è½¬æ¢</p>
<blockquote>
<p>é˜¿æ–¯é¡¿</p>
<p>asd </p>
<p>é˜¿æ–¯é¡¿</p>
</blockquote>
</li>
</ol>
</li>
</ol>
<h4 id="update-2"><a href="#update-2" class="headerlink" title="update"></a>update</h4><ol>
<li>è¯·æ±‚&#x2F;å“åº”<ol>
<li><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723221958478.png" alt="image-20230723221958478"></li>
<li><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723221942910.png" alt="image-20230723221942910" style="zoom:67%;" /></li>
</ol>
</li>
<li>å®ç°<ol>
<li></li>
</ol>
</li>
</ol>
<h4 id="delete-2"><a href="#delete-2" class="headerlink" title="delete"></a>delete</h4><ol>
<li>è¯·æ±‚&#x2F;å“åº”<ol>
<li><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723215642607.png" alt="image-20230723215642607"></li>
<li>å¤šé‡åˆ é™¤ï¼š</li>
<li><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723215907436.png" alt="image-20230723215907436"></li>
</ol>
</li>
<li>å®ç°</li>
</ol>
<h1 id="ä¸ªäººæ¥å£"><a href="#ä¸ªäººæ¥å£" class="headerlink" title="ä¸ªäººæ¥å£"></a>ä¸ªäººæ¥å£</h1><h2 id="å•†åŸç®¡ç†"><a href="#å•†åŸç®¡ç†" class="headerlink" title="å•†åŸç®¡ç†"></a>å•†åŸç®¡ç†</h2><p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723191832445.png" alt="image-20230723191832445"></p>
<h3 id="admin-regionâœ…"><a href="#admin-regionâœ…" class="headerlink" title="admin regionâœ…"></a>admin regionâœ…</h3><h4 id="å¤šè¡¨æŸ¥è¯¢-list"><a href="#å¤šè¡¨æŸ¥è¯¢-list" class="headerlink" title="å¤šè¡¨æŸ¥è¯¢ list"></a>å¤šè¡¨æŸ¥è¯¢ list</h4><ol>
<li><p>è¯·æ±‚&#x2F;å“åº”</p>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230725214534646.png" alt="image-20230725214534646"></p>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230725214557508.png" alt="image-20230725214557508"></p>
</li>
<li><p>å®ç°ï¼šä¸¤ç§æ€è·¯ï¼šåŒºåˆ«åœ¨serviceå±‚ï¼š</p>
<ol>
<li><p>è‡ªå·±ç¼–å†™SQLè¯­å¥ï¼Œå¤šè¡¨æ‹¼æ¥æŸ¥è¯¢</p>
<ol>
<li><p>ä½¿ç”¨å¤šè¡¨è”æŸ¥</p>
</li>
<li><pre><code class="sql"> &lt;resultMap id=&quot;Map&quot; type=&quot;org.example.zyx.bean.Region&quot;&gt;
         &lt;id column=&quot;province_id&quot; property=&quot;id&quot;/&gt;
         &lt;result column=&quot;province_pid&quot; property=&quot;pid&quot;/&gt;
         &lt;result column=&quot;province_name&quot; property=&quot;name&quot;/&gt;
         &lt;result column=&quot;province_type&quot; property=&quot;type&quot;/&gt;
         &lt;result column=&quot;province_code&quot; property=&quot;code&quot;/&gt;
         &lt;collection property=&quot;children&quot; ofType=&quot;org.example.zyx.bean.Region&quot;&gt;
             &lt;id column=&quot;city_id&quot; property=&quot;id&quot;/&gt;
             &lt;result column=&quot;city_pid&quot; property=&quot;pid&quot;/&gt;
             &lt;result column=&quot;city_name&quot; property=&quot;name&quot;/&gt;
             &lt;result column=&quot;city_type&quot; property=&quot;type&quot;/&gt;
             &lt;result column=&quot;city_code&quot; property=&quot;code&quot;/&gt;
             &lt;collection property=&quot;children&quot; ofType=&quot;org.example.zyx.bean.Region&quot;&gt;
                 &lt;id column=&quot;district_id&quot; property=&quot;id&quot;/&gt;
                 &lt;result column=&quot;district_pid&quot; property=&quot;pid&quot;/&gt;
                 &lt;result column=&quot;district_name&quot; property=&quot;name&quot;/&gt;
                 &lt;result column=&quot;district_type&quot; property=&quot;type&quot;/&gt;
                 &lt;result column=&quot;district_code&quot; property=&quot;code&quot;/&gt;
             &lt;/collection&gt;
         &lt;/collection&gt;
     &lt;/resultMap&gt;
 
     &lt;select id=&quot;selectAll&quot; resultMap=&quot;Map&quot;&gt;
         SELECT *
         FROM (SELECT
                   id as province_id,
                   pid as province_pid,
                   name as province_name,
                   type as province_type,
                   code as province_code
               FROM market_region WHERE type = 1) p
                  LEFT JOIN (SELECT
                                 id as city_id,
                                 pid as city_pid,
                                 name as city_name,
                                 type as city_type,
                                 code as city_code
                             FROM market_region WHERE type = 2) c
                  ON p.province_id = c.city_pid
                  LEFT JOIN (SELECT
                                 id as district_id,
                                 pid as district_pid,
                                 name as district_name ,
                                 type as district_type,
                                 code as district_code
                             FROM market_region WHERE type = 3) d
                  ON d.district_pid = c.city_id
     &lt;/select&gt;
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">            </span><br><span class="line"></span><br><span class="line">    2. å¤šæ¬¡è°ƒç”¨Javaä¸­çš„åŸºç¡€æŸ¥è¯¢å¯¹è±¡</span><br><span class="line"></span><br><span class="line">        1. ä½¿ç”¨VO+å¤šæ¬¡æŸ¥è¯¢å°è£…ï¼Œä¸‰é‡å¾ªç¯</span><br><span class="line">        2. &lt;img src=&quot;https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230725223217078.png&quot; alt=&quot;image-20230725223217078&quot; style=&quot;zoom:50%;&quot; /&gt;</span><br><span class="line"></span><br><span class="line">### admin orderâ“</span><br><span class="line"></span><br><span class="line">#### list</span><br><span class="line"></span><br><span class="line">1. **è¯·æ±‚/å“åº”**</span><br><span class="line"></span><br><span class="line">    ![image-20230725234547785](https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230725234547785.png)</span><br><span class="line"></span><br><span class="line">    å…ˆChannelï¼ˆGetï¼‰å†Listï¼ˆGetï¼‰</span><br><span class="line"></span><br><span class="line">    ![image-20230725234631310](https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230725234631310.png)</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    ![image-20230725234814690](https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230725234814690.png)</span><br><span class="line"></span><br><span class="line">    ![image-20230725235113933](https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230725235113933.png)</span><br><span class="line"></span><br><span class="line">2. **å®ç°**</span><br><span class="line"></span><br><span class="line">#### detail</span><br><span class="line"></span><br><span class="line">1. **è¯·æ±‚/å“åº”**ï¼šä¼ æ¥ä¸€ä¸ªOrderIDï¼Œåˆ°MarketOrderGoodsé‡Œæ‹¿è®¢å•å¯¹åº”çš„å•†å“ä¿¡æ¯ï¼Œå†ç”¨OrderIDåœ¨Orderè¡¨é‡Œæ‰¾å¯¹åº”çš„UserIDåˆ°MarketUseræ‰¾å¯¹åº”çš„User</span><br><span class="line"></span><br><span class="line">    ![image-20230725235913679](https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230725235913679.png)</span><br><span class="line"></span><br><span class="line">    ![image-20230725235939865](https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230725235939865.png)</span><br><span class="line"></span><br><span class="line">    ![image-20230725235953698](https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230725235953698.png)</span><br><span class="line"></span><br><span class="line">    ![image-20230726000140047](https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230726000140047.png)</span><br><span class="line"></span><br><span class="line">    ![image-20230726000322824](https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230726000322824.png)</span><br><span class="line"></span><br><span class="line">    ![image-20230726000525304](https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230726000525304.png)</span><br><span class="line"></span><br><span class="line">2. **å®ç°**</span><br><span class="line"></span><br><span class="line">      </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### refund</span><br><span class="line"></span><br><span class="line">1. **è¯·æ±‚/å“åº”**</span><br><span class="line"></span><br><span class="line">      </span><br><span class="line"></span><br><span class="line">2. **å®ç°**</span><br><span class="line"></span><br><span class="line">#### channel</span><br><span class="line"></span><br><span class="line">1. **è¯·æ±‚/å“åº”**</span><br><span class="line"></span><br><span class="line">    ![image-20230727000056929](https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230727000056929.png)</span><br><span class="line"></span><br><span class="line">      ![image-20230727000038051](https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230727000038051.png)</span><br><span class="line"></span><br><span class="line">2. **å®ç°**</span><br><span class="line"></span><br><span class="line">#### ship</span><br><span class="line"></span><br><span class="line">1. **è¯·æ±‚/å“åº”**</span><br><span class="line"></span><br><span class="line">    ![image-20230726200814186](https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230726200814186.png)</span><br><span class="line"></span><br><span class="line">    ![image-20230726200927220](https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230726200927220.png)</span><br><span class="line"></span><br><span class="line">2. **å®ç°**</span><br><span class="line"></span><br><span class="line">#### delete</span><br><span class="line"></span><br><span class="line">1. **è¯·æ±‚/å“åº”**</span><br><span class="line"></span><br><span class="line">    ![image-20230727000144103](https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230727000144103.png)</span><br><span class="line"></span><br><span class="line">      ![image-20230727000125699](https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230727000125699.png)</span><br><span class="line"></span><br><span class="line">2. **å®ç°**</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## ç™»å½•ç™»å‡ºâœ…</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">![image-20230723191841318](https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723191841318.png)</span><br><span class="line"></span><br><span class="line">### ç™»å½•</span><br><span class="line"></span><br><span class="line">#### æ„é€ admin auth login</span><br><span class="line"></span><br><span class="line">1. **è¯·æ±‚/å“åº”**</span><br><span class="line">2. **å®ç°**</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">#### æ¸…æ¥šadmin auth info</span><br><span class="line"></span><br><span class="line">1. **è¯·æ±‚/å“åº”**</span><br><span class="line">2. **å®ç°**</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## æ¨å¹¿ç®¡ç†âœ…</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">![image-20230723191847328](https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723191847328.png)</span><br><span class="line"></span><br><span class="line">### ä¼˜æƒ åˆ¸ç®¡ç†</span><br><span class="line"></span><br><span class="line">è§ä¸Šâœ…</span><br><span class="line"></span><br><span class="line">### åˆ›å»ºä¼˜æƒ åˆ¸</span><br><span class="line"></span><br><span class="line">è§ä¸Šâœ…</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## å•†å“ç®¡ç†âœ…</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">![image-20230723191855177](https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723191855177.png)</span><br><span class="line"></span><br><span class="line">### å›¾ç‰‡ä¸Šä¼ ï¼šadmin storage create</span><br><span class="line"></span><br><span class="line">&gt; æ•ˆæœï¼š &lt;a name=&quot;ä¸Šä¼ å›¾ç‰‡ï¼šåœ¨createä¹‹å‰å¦‚æœæœ‰æ–‡ä»¶å°±å…ˆä¸Šä¼ æ–‡ä»¶ï¼Œç”¨admin/storage/create_2&quot; href=&quot;#ä¸Šä¼ å›¾ç‰‡ï¼šåœ¨createä¹‹å‰å¦‚æœæœ‰æ–‡ä»¶å°±å…ˆä¸Šä¼ æ–‡ä»¶ï¼Œç”¨admin/storage/create_1&quot;&gt;**ä¸Šä¼ å›¾ç‰‡ï¼šåœ¨createä¹‹å‰å¦‚æœæœ‰æ–‡ä»¶å°±å…ˆä¸Šä¼ æ–‡ä»¶ï¼Œç”¨admin/storage/create**&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">#### æ€è·¯</span><br><span class="line"></span><br><span class="line">&gt; ```java</span><br><span class="line">&gt; //å¯¹è±¡çš„å­˜å‚¨ï¼šå…¶å®å°±æ˜¯æ–‡ä»¶ä¸Šä¼ </span><br><span class="line">&gt;  //1.è¿›è¡Œæ–‡ä»¶ä¸Šä¼ ï¼›2ã€å°†ä¸Šä¼ çš„æ–‡ä»¶ä¿¡æ¯å­˜å‚¨åˆ°æ•°æ®åº“ 3.è¿”å›å›æ‰§ä¿¡æ¯</span><br><span class="line">&gt;  //è¯´æ˜ï¼šå…¶ä¸­ï¼Œå½“å‰æ¥å£éœ€è¦è¿”å›urlï¼Œä¹Ÿå°±æ˜¯å•†å“å›¾ç‰‡åœ°å€é“¾æ¥</span><br><span class="line">&gt;  //å…³äºè¯¥é“¾æ¥ï¼š</span><br><span class="line">&gt;  // 1.å¯ä»¥å°†æ–‡ä»¶å­˜å‚¨åœ¨åº”ç”¨æ ¹ç›®å½•ï¼Œè¿”å›ä¸€ä¸ªç›¸å¯¹äºåº”ç”¨æ ¹ç›®å½•çš„ç›¸å¯¹è·¯å¾„ï¼Œå€ŸåŠ©äºç¼ºçœServletå¯ä»¥å°†å›¾ç‰‡æ˜¾ç¤ºå‡ºæ¥ http://localhost:80803/image/xxxx.jpg</span><br><span class="line">&gt;  //2.å¯ä»¥æŒ‰ç…§101å…¬ç½‘ä¸Šé¢çš„å†™æ³•/wx/storage/fetch/xxxè¿™ç§æ–¹å¼è®¿é—®ï¼Œå¯ä»¥ä¸»åŠ¨é…ç½®ä¸€ä¸ªservletï¼Œç„¶åå°†æœ¬åœ°çš„èµ„æºæ–‡ä»¶å“åº”å‡ºå»----æˆ‘ä»¬å†™è¿™ç§æ–¹å¼</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<blockquote>
</blockquote>
<blockquote>
<p>éœ€è¦ä½¿ç”¨ä¸¤ä¸ªservletå…±åŒå¤„ç†ï¼š&#x2F;admin&#x2F;storage&#x2F;* + &#x2F;wx&#x2F;storage&#x2F;fetch&#x2F;* </p>
<p>å‰è€…å°†æ–‡ä»¶ä¼ å…¥ï¼Œé‡æ–°ç¼–ç ï¼Œå°†æ–‡ä»¶åŒ–ä¸ºstorageå¯¹è±¡æ‰§è¡Œå­˜å…¥ï¼ˆæ•°æ®åº“url+æœ¬åœ°ä¸€ä¸ªè·¯å¾„ï¼‰ã€è¿”å›storageç›¸åº”ä¿¡æ¯</p>
<p>åè€…å°†è§„å®šåœ°å€çš„æœ¬åœ°æ–‡ä»¶è¯»å–ï¼Œå¹¶æ”¾å…¥å“åº”è¿”å›</p>
</blockquote>
<p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230725143339697.png" alt="image-20230725143339697"></p>
<p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230725143632101.png" alt="image-20230725143632101"></p>
<ol>
<li><p><strong>è¯·æ±‚&#x2F;å“åº”</strong></p>
<p> â€‹    </p>
</li>
<li><p><strong>å®ç°</strong></p>
<blockquote>
<p>ä»¥ä¸Šä¸¤æ®µä»£ç çš„è§£è¯»</p>
</blockquote>
<ol>
<li><p><a href="......%5CIdeaProjects%5Cjava52-course-materials%5C03-JavaEE&SpringFramework%5C01-%E4%BB%A3%E7%A0%81%5CDay9_Market%5Csrc%5Cmain%5Cjava%5Ccom%5Ccskaoyan%5Cmarket%5Ccontroller%5CAdminStorageController.java">AdminStorageController.java</a> </p>
<p> è¿™æ®µä»£ç æ˜¯å®ç°ä¸€ä¸ª<strong>æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½</strong>çš„å…³é”®é€»è¾‘,æˆ‘æ¥è§£æä¸€ä¸‹:</p>
<ol>
<li>è·å–è¯·æ±‚ä¸­çš„æ–‡ä»¶éƒ¨åˆ†(Part),å¹¶è·å–æ–‡ä»¶åã€å¤§å°ã€ç±»å‹ç­‰ä¿¡æ¯</li>
<li>ç”Ÿæˆä¸€ä¸ªéšæœºkeyä½œä¸ºæ–‡ä»¶çš„åç§°,å­˜å‚¨åˆ°æ•°æ®åº“å’ŒæœåŠ¡å™¨ä¸­</li>
<li>è·å–æœåŠ¡ç«¯çš„åŸŸådomainå’Œä¸Šä¼ è·¯å¾„uploadPath</li>
<li>æ‰§è¡Œæ–‡ä»¶å†™å…¥åˆ°æœåŠ¡å™¨çš„æŒ‡å®šè·¯å¾„</li>
<li>åˆ›å»ºä¸€ä¸ªMarketStorageå¯¹è±¡,å°è£…æ–‡ä»¶ä¿¡æ¯,æ’å…¥æ•°æ®åº“</li>
<li>æ„å»ºæ–‡ä»¶è®¿é—®URL,éœ€è¦å¸¦ä¸ŠåŸŸå,å¦åˆ™é»˜è®¤æ˜¯localhost</li>
<li>æ’å…¥æ•°æ®åº“å,æ–‡ä»¶æœ‰äº†id,æ‰€ä»¥å†æ›´æ–°ä¸€éæ•°æ®åº“(è¿™ä¸€æ­¥ä¸æ˜¯å¿…é¡»çš„)</li>
<li>æ„å»ºå“åº”,åŒ…å«ä¸Šä¼ åçš„æ–‡ä»¶ä¿¡æ¯</li>
<li>è¿”å›å“åº”ç»“æœ</li>
</ol>
<p> æ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„æ–‡ä»¶ä¸Šä¼ å®ç°,åŒ…å«è·å–ä¸Šä¼ æ–‡ä»¶ã€å†™å…¥å­˜å‚¨ã€æ•°æ®åº“å¤„ç†ã€æ„å»ºè®¿é—®URLç­‰æ‰€éœ€çš„å…³é”®æ­¥éª¤ã€‚</p>
<p> ä¸»è¦æµç¨‹æ˜¯æ§åˆ¶ä¸Šä¼ æ–‡ä»¶å­˜å‚¨ä½ç½®,æ•°æ®åº“è®°å½•æ–‡ä»¶ä¿¡æ¯,å¹¶è¿”å›åŒ…å«è®¿é—®URLçš„ç»“æœç»™å®¢æˆ·ç«¯ã€‚</p>
</li>
<li><p><a href="......%5CIdeaProjects%5Cjava52-course-materials%5C03-JavaEE&SpringFramework%5C01-%E4%BB%A3%E7%A0%81%5CDay9_Market%5Csrc%5Cmain%5Cjava%5Ccom%5Ccskaoyan%5Cmarket%5Ccontroller%5CWxStorageFetchController.java">WxStorageFetchController.java</a> </p>
<p> è¿™æ®µä»£ç å®ç°äº†<strong>æ–‡ä»¶ä¸‹è½½çš„åŠŸèƒ½</strong>,é…åˆä¹‹å‰çš„æ–‡ä»¶ä¸Šä¼ ä»£ç ,å…·ä½“å·¥ä½œæµç¨‹æ˜¯:</p>
<ol>
<li>ä»è¯·æ±‚URIä¸­æå–å‡ºkey,ä¹Ÿå°±æ˜¯ä¸Šä¼ æ—¶ç”Ÿæˆçš„æ–‡ä»¶å</li>
<li>ä»ServletContextä¸­è·å–ä¸Šä¼ æ–‡ä»¶çš„æ ¹ç›®å½•uploadPath</li>
<li>æ‹¼æ¥å‡ºæ–‡ä»¶çš„å®Œæ•´è·¯å¾„</li>
<li>æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨</li>
<li>å¦‚æœå­˜åœ¨,æ‰“å¼€æ–‡ä»¶è¾“å…¥æµ,å†™å…¥å“åº”çš„è¾“å‡ºæµ</li>
<li>åœ¨å¾ªç¯ä¸­åˆ†å—è¯»å–æ–‡ä»¶æ•°æ®,å†™å…¥è¾“å‡ºæµå‘é€ç»™å®¢æˆ·ç«¯</li>
<li>å®¢æˆ·ç«¯æ¥æ”¶åˆ°å“åº”æ•°æ®å¹¶ä¿å­˜ä¸ºæ–‡ä»¶å³å®ç°äº†ä¸‹è½½</li>
<li>å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨,è¿”å›404çŠ¶æ€ç </li>
</ol>
<p> ä¸»è¦é€»è¾‘æ˜¯é€šè¿‡keyå®šä½æ–‡ä»¶,è·å–æ–‡ä»¶è¾“å…¥æµ,å†™å…¥å“åº”è¾“å‡ºæµã€‚</p>
<p> é…åˆä¸Šä¼ ä»£ç ,è¿™å®ç°äº†ä¸€ä¸ªå®Œæ•´çš„æ–‡ä»¶ä¸Šä¼ ä¸‹è½½è¿‡ç¨‹,å¹¶ä¸”æ–‡ä»¶å­˜å‚¨è·¯å¾„æŠ½å–åˆ°ServletContextä¸­,é¿å…ç¡¬ç¼–ç ã€‚</p>
<p> é€šè¿‡ServletContextå…±äº«é…ç½®,è·å–key,ç„¶åè¯»å–æ–‡ä»¶å†™å…¥å“åº”,è¿™æ˜¯ä¸€ä¸ªéå¸¸å…¸å‹çš„JavaWebæ–‡ä»¶ä¸‹è½½å®ç°ã€‚</p>
</li>
</ol>
</li>
</ol>
<h4 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h4><h3 id="åˆ›å»ºå•†å“ï¼šadmin-goods-create"><a href="#åˆ›å»ºå•†å“ï¼šadmin-goods-create" class="headerlink" title="åˆ›å»ºå•†å“ï¼šadmin goods create"></a>åˆ›å»ºå•†å“ï¼šadmin goods create</h3><h4 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol>
<li><p><strong>è¯·æ±‚&#x2F;å“åº”</strong></p>
<ul>
<li><p>Postè¯·æ±‚ï¼Œä¼ å…¥å€¼ä¸ºJSONå½¢å¼ï¼Œä¸”æ¯”è¾ƒå¤æ‚ï¼Œæ•…éœ€è¦ç”¨åˆ°VOç±»</p>
<p>  <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230726173129016.png" alt="image-20230726173129016"></p>
</li>
</ul>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230726173417831.png" alt="image-20230726173417831"></p>
</li>
<li><p><strong>å®ç°</strong></p>
<ul>
<li>VOç±»<ul>
<li><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230726173606733.png" alt="image-20230726173606733"></li>
</ul>
</li>
<li>å®<ul>
<li><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230726173631659.png" alt="image-20230726173631659"></li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="é…ç½®ç®¡ç†â“"><a href="#é…ç½®ç®¡ç†â“" class="headerlink" title="é…ç½®ç®¡ç†â“"></a>é…ç½®ç®¡ç†â“</h2><p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230723191900049.png" alt="image-20230723191900049"></p>
<h3 id="å•†åœºé…ç½®ï¼šadmin-config-mall"><a href="#å•†åœºé…ç½®ï¼šadmin-config-mall" class="headerlink" title="å•†åœºé…ç½®ï¼šadmin config mall"></a>å•†åœºé…ç½®ï¼šadmin config mall</h3><h4 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol>
<li><p><strong>è¯·æ±‚&#x2F;å“åº”</strong></p>
<ul>
<li>å¯å¤„ç†Postçš„ä¸Šä¼ å’ŒGetçš„æ˜¾ç¤º</li>
<li><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230726173749411.png" alt="image-20230726173749411"></li>
<li><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230726174359607.png" alt="image-20230726174359607"></li>
<li><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230726174426629.png" alt="image-20230726174426629"></li>
</ul>
</li>
<li><p><strong>å®ç°</strong></p>
<ul>
<li>é˜¿æ–¯é¡¿</li>
</ul>
</li>
</ol>
<h2 id="ç”¨æˆ·ç»Ÿè®¡"><a href="#ç”¨æˆ·ç»Ÿè®¡" class="headerlink" title="ç”¨æˆ·ç»Ÿè®¡"></a>ç”¨æˆ·ç»Ÿè®¡</h2><h3 id="ç»Ÿè®¡æŠ¥è¡¨"><a href="#ç»Ÿè®¡æŠ¥è¡¨" class="headerlink" title="ç»Ÿè®¡æŠ¥è¡¨"></a>ç»Ÿè®¡æŠ¥è¡¨</h3><h4 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><p>å•ç‹¬å†™ä¸€ä¸ªMapperï¼Œç”¨GroupBy</p>
<p>è¿”å›ä¸€ä¸ªOK Map(String Object)ï¼šåŒ…æ‹¬ä¸¤ä¸ªMapï¼šcolumnså’Œrowsï¼Œä¸€ä¸ªé‡Œå¤´åŠ ä¸¤ä¸ª</p>
<p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230726213834623.png" alt="image-20230726213834623"></p>
<p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230726214050847.png" alt="image-20230726214050847"></p>
<p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230726214402616.png" alt="image-20230726214402616"></p>
<p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230726215202558.png" alt="image-20230726215202558"></p>
<h1 id="æŠ€æœ¯æ ˆ"><a href="#æŠ€æœ¯æ ˆ" class="headerlink" title="æŠ€æœ¯æ ˆ"></a>æŠ€æœ¯æ ˆ</h1><h2 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h2><h3 id="å¯ä¼˜åŒ–çš„ç‚¹ï¼š"><a href="#å¯ä¼˜åŒ–çš„ç‚¹ï¼š" class="headerlink" title="å¯ä¼˜åŒ–çš„ç‚¹ï¼š"></a>å¯ä¼˜åŒ–çš„ç‚¹ï¼š</h3><p>å…¶ä¸­çš„serviceå±‚è°ƒç”¨æ°¸ä¹…å±‚æ–¹æ³•é‡å¤æ­¥éª¤å¯ç”¨ä»£ç†å®ç°</p>
<h3 id="é“¾å¼ååº”ï¼š"><a href="#é“¾å¼ååº”ï¼š" class="headerlink" title="é“¾å¼ååº”ï¼š"></a>é“¾å¼ååº”ï¼š</h3><p>æŒ‰ç…§å…ˆåé¡ºåºï¼š</p>
<ol>
<li>ä¸€èˆ¬ä½¿ç”¨ä¸€ä¸ªlisteneråœ¨å¼€å§‹çš„æ—¶å€™å°†éœ€è¦è¯»å–çš„ï¼šè·¯å¾„ç™½åå•ã€JDBCæˆ–è€…å…¶ä»–çš„propertiesåŠ è½½è¿›ContextåŸŸ</li>
<li>ä½¿ç”¨å¤šä¸ªFilterï¼ˆä¸æ”¹åå­—çš„è¯å°±å¾—åœ¨WebXMLæ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ï¼‰è¿›è¡Œåœ¨è¿›å…¥Servletï¼ˆcontrollerï¼‰ä¹‹å‰çš„å‰ç½®æ“ä½œï¼šè®¾ç½®ç¼–ç è§£ç æ ¼å¼ã€è®¿é—®è¯·æ±‚æ‹¦æˆªã€ç™»é™†æƒé™æ ¡éªŒ</li>
</ol>
<h3 id="æ–‡ä»¶åŠ è½½ï¼š"><a href="#æ–‡ä»¶åŠ è½½ï¼š" class="headerlink" title="æ–‡ä»¶åŠ è½½ï¼š"></a>æ–‡ä»¶åŠ è½½ï¼š</h3><p>æ— </p>
<h2 id="æŠ€å·§ä½¿ç”¨"><a href="#æŠ€å·§ä½¿ç”¨" class="headerlink" title="æŠ€å·§ä½¿ç”¨"></a>æŠ€å·§ä½¿ç”¨</h2><blockquote>
<p>æ•´ä¸ªæ•°æ®éƒ½æ˜¯JSONçš„KEY-Valueå½¢å¼ï¼ŒJaksonUtilä¹Ÿæ˜¯å¦‚æ­¤è·å¾—æ•°æ®çš„</p>
</blockquote>
<h3 id="æ•°æ®è·å–"><a href="#æ•°æ®è·å–" class="headerlink" title="æ•°æ®è·å–"></a>æ•°æ®è·å–</h3><ol>
<li><p>Postè¯·æ±‚æ•°æ®åœ¨è¯·æ±‚ä½“ä¸­ï¼Œä¸€èˆ¬æ˜¯JSONå½¢å¼ï¼Œéœ€è¦å°†å…¶è½¬åŒ–ä¸ºJavaå¯¹è±¡</p>
<blockquote>
<p>éœ€è¦å…ˆè·å–è¯·æ±‚ä½“Stringï¼Œç„¶åå†ç”¨JacksonUtilä¸­çš„parseæˆ–è€…ObjectMapper</p>
</blockquote>
<ol>
<li><p>å¦‚æœä¼ æ¥çš„JSONæ•°æ®æ¡ç›®ä¸å¤šï¼Œç›´æ¥JacksonUtil+ç±»å‹è½¬æ¢å°±è¡Œ</p>
<ol>
<li><p>å®ä¾‹</p>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230726153244250.png" alt="image-20230726153244250"></p>
</li>
</ol>
</li>
<li><p>å¦‚æœæ˜¯æ•´ä½“çš„å¤šçº§å¯¹è±¡è€ƒè™‘ä½¿ç”¨BO+ObjectMapper</p>
<ol>
<li><p>å®ä¾‹</p>
<ol>
<li><p>BOç±»ï¼š</p>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230726153110874.png" alt="image-20230726153110874"></p>
</li>
<li><p>ObjectMapperä½¿ç”¨</p>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230726153119046.png" alt="image-20230726153119046"></p>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li><p>Get</p>
<ol>
<li>ç›´æ¥reqã€‚Parameterå°±èƒ½å¾—åˆ°</li>
</ol>
</li>
</ol>
<h3 id="æ•°æ®è¾“å‡º"><a href="#æ•°æ®è¾“å‡º" class="headerlink" title="æ•°æ®è¾“å‡º"></a>æ•°æ®è¾“å‡º</h3><p>ä½¿ç”¨ResponseUtil + JacksonUtil</p>
<p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230726153611410.png" alt="image-20230726153611410"></p>
<h3 id="æ•°æ®åº“æ“ä½œ"><a href="#æ•°æ®åº“æ“ä½œ" class="headerlink" title="æ•°æ®åº“æ“ä½œ"></a>æ•°æ®åº“æ“ä½œ</h3><blockquote>
<p>MGç”Ÿæˆçš„domainï¼ˆæœ‰POJOBeanç±»å’Œç”¨äºæ‹¼æ¥SQLwhereæ¡ä»¶çš„Exampleç±»ï¼Œå…¶ä¸­æ‹¼æ¥æ–¹å¼æœ‰critirialå’Œ.orä¸¤ç§ï¼‰ã€Mapperï¼ˆæ¥å£ï¼Œå¯¹åº”resourceä¸­æœ‰xmlæ–‡ä»¶ï¼‰ã€TypeHandlerï¼ˆï¼‰</p>
</blockquote>
<ol>
<li><p>ä½¿ç”¨Mybatis-Generatorä¸­ç”Ÿæˆçš„åŸºç¡€Mapperï¼Œå¯ä»¥å®ç°å¢åˆ æ”¹æŸ¥ï¼ˆæŸ¥çš„è¯éœ€è¦Exampleï¼‰</p>
</li>
<li><p>VOã€BOã€TypeHandlerï¼šéœ€è¦è‡ªå·±æ„å»ºä¼ å…¥ä¼ å‡ºå¯¹è±¡æ ¼å¼æ—¶åˆ›å»ºï¼Œå¦‚æœæœ‰æ•°æ®åº“ä¸­æ²¡æœ‰å¯¹åº”çš„ç±»å‹éœ€è¦è‡ªå·±è¡¥å……</p>
<blockquote>
<p>Controllerä½¿ç”¨VOæ”¶é›†è¯·æ±‚æ•°æ®,Serviceå±‚å¤„ç†ä¸šåŠ¡,Daoå±‚ä½¿ç”¨VOæŒä¹…åŒ–,è¿”å›BOç»™Service,Serviceå†å°è£…VOè¿”å›Controllerã€‚</p>
<hr>
<p>å…¶ä¸­TypeHandlerå¯ä»¥å‘æŒ¥é‡è¦ä½œç”¨,ä¸»è¦ç”¨åœ¨ä»¥ä¸‹åœ°æ–¹:</p>
<ol>
<li><p>æ•°æ®ä¼ è¾“å¯¹è±¡VO</p>
<p> å¯ä»¥ä½¿ç”¨TypeHandlerå°†VOä¸­çš„å±æ€§ç±»å‹è½¬æ¢ä¸ºæ•°æ®åº“å¯¹åº”çš„åˆ—ç±»å‹,ç”¨äºæ’å…¥å’ŒæŸ¥è¯¢ã€‚</p>
</li>
<li><p>å‚æ•°ç»‘å®š</p>
<p> åœ¨Mapperæ¥å£æ–¹æ³•ä¸­,TypeHandlerå¯ä»¥è‡ªåŠ¨è½¬æ¢å…¥å‚ç±»å‹åˆ°æ•°æ®åº“åˆ—ç±»å‹ã€‚</p>
</li>
<li><p>æŸ¥è¯¢ç»“æœæ˜ å°„</p>
<p> TypeHandlerå°†æ•°æ®åº“æŸ¥è¯¢ç»“æœä¸­çš„åˆ—ç±»å‹,è‡ªåŠ¨æ˜ å°„åˆ°VOå±æ€§ä¸­ã€‚</p>
</li>
<li><p>è‡ªå®šä¹‰ç±»å‹æ”¯æŒ</p>
<p> å¯ä»¥ä½¿ç”¨TypeHandleræ¥æ”¯æŒæ•°æ®åº“å‡½æ•°è¿”å›çš„è‡ªå®šä¹‰ç±»å‹ã€‚</p>
</li>
</ol>
<p>ä¾‹å¦‚å®ç°ä¸€ä¸ªJsonTypeHandler,æ”¯æŒMySQL 5.7çš„JSONæ•°æ®ç±»å‹:è¿™æ ·å°±å¯ä»¥åœ¨Mapperæ¥å£ç›´æ¥ä½¿ç”¨JsonObjectä½œä¸ºå‚æ•°å’Œè¿”å›å€¼ã€‚</p>
</blockquote>
</li>
</ol>
<h2 id="StringUtil"><a href="#StringUtil" class="headerlink" title="StringUtil"></a>StringUtil</h2><blockquote>
<p>StringUtilæ˜¯ä¸€ä¸ªç”¨äºå­—ç¬¦ä¸²æ“ä½œçš„å·¥å…·ç±»,å®ƒå°è£…äº†å­—ç¬¦ä¸²å¤„ç†çš„å¸¸ç”¨åŠŸèƒ½,å¯ä»¥ç®€åŒ–å­—ç¬¦ä¸²æ“ä½œã€‚</p>
</blockquote>
<h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><blockquote>
<p>StringUtilä¸»è¦æ˜¯åŸºäºJavaè‡ªèº«çš„Stringç±»è¿›è¡Œçš„å°è£…,æä¾›äº†ä¸€äº›å¸¸ç”¨çš„å­—ç¬¦ä¸²æ ¡éªŒã€è½¬æ¢ã€æ ¼å¼åŒ–ç­‰é™æ€æ–¹æ³•ã€‚</p>
</blockquote>
<h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><p>StringUtilçš„å¸¸ç”¨æ–¹æ³•åŒ…æ‹¬:</p>
<ul>
<li>isEmpty&#x2F;isNotEmpty - åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º</li>
<li>equals&#x2F;equalsIgnoreCase - å­—ç¬¦ä¸²æ¯”è¾ƒ</li>
<li>concat - å­—ç¬¦ä¸²æ‹¼æ¥</li>
<li>toUpper&#x2F;toLower - å¤§å°å†™è½¬æ¢</li>
<li>format - æ ¼å¼åŒ–å­—ç¬¦ä¸²</li>
<li>getBytes - å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„</li>
<li>substring&#x2F;left&#x2F;right - å­—ç¬¦ä¸²æˆªå–</li>
<li>etc.</li>
</ul>
<p>ä¾‹å¦‚:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">javaCopy <span class="title function_">codeif</span><span class="params">(StringUtil.isEmpty(str)</span>)&#123;</span><br><span class="line">  <span class="comment">//todo</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">upper</span> <span class="operator">=</span> StringUtil.toUpper(str);</span><br></pre></td></tr></table></figure>

<h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ul>
<li>å‚æ•°ä¸ºç©ºæŒ‡é’ˆæ—¶éœ€è¦å¤„ç†å¼‚å¸¸</li>
<li>é¿å…é¢‘ç¹çš„å­—ç¬¦ä¸²æ‹¼æ¥æ“ä½œå½±å“æ€§èƒ½</li>
<li>æ ¼å¼åŒ–æ¨¡æ¿è¯­æ³•å®‰å…¨,é˜²æ­¢æ³¨å…¥æ”»å‡»</li>
</ul>
<h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul>
<li>ä»£ç æ›´ç®€æ´,æé«˜å¼€å‘æ•ˆç‡</li>
<li>å¯é‡ç”¨æ€§é«˜,é¿å…é‡å¤å¼€å‘</li>
<li>å°è£…æ€§å¥½,é›†ä¸­ç®¡ç†å­—ç¬¦ä¸²æ“ä½œ</li>
<li>å¯æ‰©å±•æ€§å¼º,å¯è‡ªå®šä¹‰æ›´å¤šæ–¹æ³•</li>
</ul>
<p>æ‰€ä»¥StringUtilé€šè¿‡å°è£…å­—ç¬¦ä¸²æ“ä½œçš„å·¥å…·æ–¹æ³•,å¯ä»¥èŠ‚çº¦å¼€å‘æ—¶é—´,æé«˜ä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
<h2 id="JacksonUtil"><a href="#JacksonUtil" class="headerlink" title="JacksonUtil"></a>JacksonUtil</h2><p>Jacksonæ˜¯ä¸€ä¸ªæµè¡Œçš„Java JSONè§£æåº“ï¼Œæ˜¯åŸºäºJacksonå°è£…çš„ä¸€ä¸ªå·¥å…·ç±»ã€‚å®ƒç®€åŒ–äº†JSONä¸Javaå¯¹è±¡çš„äº’ç›¸è½¬æ¢ã€‚</p>
<h3 id="åŸç†-1"><a href="#åŸç†-1" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>Jacksonçš„æ ¸å¿ƒåŸç†æ˜¯é€šè¿‡åå°„è·å–Javaç±»çš„ç»“æ„ä¿¡æ¯,åƒå­—æ®µåã€ç±»å‹ç­‰,å†æ ¹æ®JSONè¯­æ³•è¿›è¡Œè½¬æ¢ã€‚é€šè¿‡åŸºäºJacksonçš„è½»é‡çº§å°è£…ï¼Œå¯ä»¥å‡å°‘å¤„ç†JSONçš„é‡å¤ç¹çä»£ç ã€‚</p>
<h3 id="ä½¿ç”¨æ–¹æ³•-1"><a href="#ä½¿ç”¨æ–¹æ³•-1" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><p>JacksonUtilå¸¸è§çš„ä½¿ç”¨æ–¹æ³•æœ‰:</p>
<ul>
<li>readValue() - JSONè§£æä¸ºJavaå¯¹è±¡</li>
<li>writeValueAsString() - Javaå¯¹è±¡è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²</li>
</ul>
<p>ä¾‹å¦‚:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> JacksonUtil.readValue(json, User.class); </span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> JacksonUtil.writeValueAsString(user);</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ç”¨äºMap, Listç­‰é›†åˆå¯¹è±¡ä¸JSONçš„è½¬æ¢ã€‚</p>
<h3 id="æ³¨æ„äº‹é¡¹-1"><a href="#æ³¨æ„äº‹é¡¹-1" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ul>
<li>JSONå­—æ®µåå’ŒJavaå±æ€§åéœ€è¦ä¸€è‡´</li>
<li>æ³¨è§£å¯ä»¥æ§åˆ¶JSONçš„ç”Ÿæˆ</li>
<li>éœ€è¦å¤„ç†JSONè§£æå¼‚å¸¸</li>
<li>ä¼˜å…ˆä½¿ç”¨æµçš„æ–¹å¼å¤„ç†å¤§JSONæ•°æ®</li>
</ul>
<h3 id="ä¼˜ç‚¹-1"><a href="#ä¼˜ç‚¹-1" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul>
<li>ä½¿ç”¨ç®€å•,å‡å°‘å¤§é‡ç¼–ç å·¥ä½œ</li>
<li>æ€§èƒ½é«˜æ•ˆ</li>
<li>è‡ªåŠ¨è½¬æ¢æ”¯æŒå¹¿æ³›ç±»å‹</li>
<li>æ”¯æŒæ³¨è§£æ§åˆ¶åºåˆ—åŒ–</li>
<li>å¯æ‰©å±•æ€§å¼º</li>
</ul>
<h2 id="ResponseUtil"><a href="#ResponseUtil" class="headerlink" title="ResponseUtil"></a>ResponseUtil</h2><p>ResponseUtilæ˜¯å¤„ç†Webæ¥å£å“åº”çš„ä¸€ä¸ªå·¥å…·ç±»,å®ƒå¯ä»¥ç”¨äºç»Ÿä¸€æ¥å£å“åº”æ ¼å¼,æ–¹ä¾¿æ¥å£ä¸å®¢æˆ·ç«¯çš„æ•°æ®äº¤äº’ã€‚</p>
<h3 id="åŸç†-2"><a href="#åŸç†-2" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>ResponseUtilä¸»è¦åŸºäºæ ¼å¼åŒ–ä¸€ä¸ªMapæ¥å°è£…å“åº”æ•°æ®,é€šå¸¸æ ¼å¼å¦‚ä¸‹:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">200</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;æˆåŠŸ&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// æ•°æ®å†…å®¹ </span></span><br><span class="line">  <span class="punctuation">&#125;</span> </span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨æ–¹æ³•-2"><a href="#ä½¿ç”¨æ–¹æ³•-2" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><p>ResponseUtilæä¾›äº†ä¸€äº›é™æ€æ–¹æ³•ç”¨äºæ„å»ºå“åº”:</p>
<ul>
<li>ok() - æ„å»ºæˆåŠŸæ— æ•°æ®çš„å“åº”</li>
<li>ok(data) - æ„å»ºæˆåŠŸæœ‰æ•°æ®çš„å“åº”</li>
<li>fail() - æ„å»ºå¤±è´¥æ— æ•°æ®çš„å“åº”</li>
<li>fail(data) - æ„å»ºå¤±è´¥æœ‰æ•°æ®çš„å“åº”</li>
</ul>
<p>ä¾‹å¦‚:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æˆåŠŸæ— æ•°æ®</span></span><br><span class="line">ResponseUtil.ok();</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆåŠŸæœ‰æ•°æ®</span></span><br><span class="line">ResponseUtil.ok(user); </span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤±è´¥æ— æ•°æ®</span></span><br><span class="line">ResponseUtil.fail(<span class="number">404</span>, <span class="string">&quot;Not Found&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="æ³¨æ„äº‹é¡¹-2"><a href="#æ³¨æ„äº‹é¡¹-2" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ul>
<li>codeå’Œmessageè¦ç¬¦åˆç³»ç»Ÿè§„èŒƒ</li>
<li>dataä¸è¦è¿”å›æ•æ„Ÿä¿¡æ¯</li>
<li>æ¥å£å“åº”æ ¼å¼å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´</li>
</ul>
<h3 id="ä¼˜ç‚¹-2"><a href="#ä¼˜ç‚¹-2" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul>
<li>ç»Ÿä¸€æ¥å£å“åº”æ ¼å¼å’Œè§„èŒƒ</li>
<li>ç®€åŒ–æ¥å£è¿”å›å€¼å¤„ç†</li>
<li>é”™è¯¯ç å’Œä¿¡æ¯å¯é…ç½®</li>
<li>é¼“åŠ±èŒè´£å•ä¸€åŸåˆ™,æ¥å£èšç„¦ä¸šåŠ¡</li>
</ul>
<p>æ‰€ä»¥ResponseUtilå¯ä»¥ç®€åŒ–æ¥å£å“åº”å¤„ç†,æé«˜ç³»ç»Ÿæ¥å£è´¨é‡å’Œå¼€å‘æ•ˆç‡ã€‚</p>
<h2 id="PageHelper"><a href="#PageHelper" class="headerlink" title="PageHelper"></a>PageHelper</h2><h3 id="æ³¨æ„äº‹é¡¹-3"><a href="#æ³¨æ„äº‹é¡¹-3" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ol>
<li><p>å¿…é¡»</p>
<ol>
<li><p>ä¼ ä¸¤ä¸ªintå€¼ï¼Œ<code>page</code>å’Œ<code>limit</code></p>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230730213036249.png" alt="image-20230730213036249"></p>
</li>
<li><p>å†™åœ¨éœ€è¦å®ç°çš„æŸ¥è¯¢è¯­å¥çš„ä¸Šä¸€è¡Œ</p>
<p> <img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/image-20230730213123046.png" alt="image-20230730213123046"></p>
</li>
</ol>
</li>
<li><p>ä¸èƒ½</p>
</li>
</ol>
<h3 id="åŸç†-3"><a href="#åŸç†-3" class="headerlink" title="åŸç†"></a>åŸç†</h3><blockquote>
<p>ä¸ºä»€ä¹ˆæŸ¥è¯¢æ—¶æˆ‘ä»¬ä¸éœ€è¦æŠŠå‚æ•°ä¼ å…¥æˆ‘ä»¬çš„æŸ¥è¯¢å³å¯ä½¿ç”¨å‘¢ï¼Ÿ</p>
<p>è‚¯å®šæ˜¯åœ¨æŸä¸ªåœ°æ–¹è®¾ç½®äº†å‚æ•°ï¼Œç„¶ååœ¨æŸ¥è¯¢æ—¶å¯ä»¥æ‹¿åˆ°ï¼Œé‚£ä¹ˆé¡ºå…¶è‡ªç„¶å¾ˆå®¹æ˜“å°±æƒ³åˆ°äº†javaçš„jucåŒ…ä¸‹æä¾›çš„ThreadLocal</p>
</blockquote>
<p>æµç¨‹æ€»ç»“ï¼š</p>
<ol>
<li>è®¾ç½®åˆ†é¡µå‚æ•°åˆ°ThreadLocalä¸­</li>
<li>è°ƒç”¨æŸ¥è¯¢ï¼ŒåŸºäºæ’ä»¶ï¼ˆæ‹¦æˆªå™¨ï¼‰æ‹¦æˆªqueryæ–¹æ³•ï¼Œä»ThreadLocalä¸­è·å–åˆ†é¡µå‚æ•°ï¼Œé’ˆå¯¹ä¸åŒçš„æ•°æ®åº“ç±»å‹ä½¿ç”¨ä¸åŒçš„æ•°æ®åº“åˆ†é¡µæ–¹æ¡ˆ</li>
<li>æ ¹æ®ç»“æœåŒ…è£…è¿”å›PageInfoï¼Œè¿™é‡Œæ³¨æ„çš„æ˜¯è°ƒç”¨äº†æŸ¥è¯¢æ–¹æ³•è¿”å›çš„Listå®é™…ä¸Šæ˜¯PageHelperçš„ä¸€ä¸ªå†…éƒ¨å®ç°ç±»Pageï¼ŒPageç»§æ‰¿è‡ªArrayListï¼Œä¿å­˜äº†åˆ†é¡µä½¿ç”¨çš„å‚æ•°</li>
</ol>
<h4 id="ThreadLocal"><a href="#ThreadLocal" class="headerlink" title="ThreadLocal"></a>ThreadLocal</h4><h5 id="ThreadLocal-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#ThreadLocal-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="ThreadLocal æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>ThreadLocal æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h5><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åˆ›å»ºçš„å˜é‡æ˜¯å¯ä»¥è¢«ä»»ä½•ä¸€ä¸ªçº¿ç¨‹è®¿é—®å¹¶ä¿®æ”¹çš„ã€‚<strong>å¦‚æœæƒ³å®ç°æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„ä¸“å±æœ¬åœ°å˜é‡è¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿ</strong></p>
<p>JDK ä¸­è‡ªå¸¦çš„<code>ThreadLocal</code>ç±»æ­£æ˜¯ä¸ºäº†è§£å†³è¿™æ ·çš„é—®é¢˜ã€‚ <strong><code>ThreadLocal</code>ç±»ä¸»è¦è§£å†³çš„å°±æ˜¯è®©æ¯ä¸ªçº¿ç¨‹ç»‘å®šè‡ªå·±çš„å€¼ï¼Œå¯ä»¥å°†<code>ThreadLocal</code>ç±»å½¢è±¡çš„æ¯”å–»æˆå­˜æ”¾æ•°æ®çš„ç›’å­ï¼Œç›’å­ä¸­å¯ä»¥å­˜å‚¨æ¯ä¸ªçº¿ç¨‹çš„ç§æœ‰æ•°æ®ã€‚</strong></p>
<p>å¦‚æœä½ åˆ›å»ºäº†ä¸€ä¸ª<code>ThreadLocal</code>å˜é‡ï¼Œé‚£ä¹ˆè®¿é—®è¿™ä¸ªå˜é‡çš„æ¯ä¸ªçº¿ç¨‹éƒ½ä¼šæœ‰è¿™ä¸ªå˜é‡çš„æœ¬åœ°å‰¯æœ¬ï¼Œè¿™ä¹Ÿæ˜¯<code>ThreadLocal</code>å˜é‡åçš„ç”±æ¥ã€‚ä»–ä»¬å¯ä»¥ä½¿ç”¨ <code>get()</code> å’Œ <code>set()</code> æ–¹æ³•æ¥è·å–é»˜è®¤å€¼æˆ–å°†å…¶å€¼æ›´æ”¹ä¸ºå½“å‰çº¿ç¨‹æ‰€å­˜çš„å‰¯æœ¬çš„å€¼ï¼Œä»è€Œé¿å…äº†çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p>
<p>å†ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼šä¸¤ä¸ªäººå»å®å±‹æ”¶é›†å®ç‰©ï¼Œè¿™ä¸¤ä¸ªå…±ç”¨ä¸€ä¸ªè¢‹å­çš„è¯è‚¯å®šä¼šäº§ç”Ÿäº‰æ‰§ï¼Œä½†æ˜¯ç»™ä»–ä»¬ä¸¤ä¸ªäººæ¯ä¸ªäººåˆ†é…ä¸€ä¸ªè¢‹å­çš„è¯å°±ä¸ä¼šå‡ºç°è¿™æ ·çš„é—®é¢˜ã€‚å¦‚æœæŠŠè¿™ä¸¤ä¸ªäººæ¯”ä½œçº¿ç¨‹çš„è¯ï¼Œé‚£ä¹ˆ ThreadLocal å°±æ˜¯ç”¨æ¥é¿å…è¿™ä¸¤ä¸ªçº¿ç¨‹ç«äº‰çš„ã€‚</p>
<h5 id="å¦‚ä½•ä½¿ç”¨-ThreadLocalï¼Ÿ"><a href="#å¦‚ä½•ä½¿ç”¨-ThreadLocalï¼Ÿ" class="headerlink" title="å¦‚ä½•ä½¿ç”¨ ThreadLocalï¼Ÿ"></a>å¦‚ä½•ä½¿ç”¨ ThreadLocalï¼Ÿ</h5><p>ç›¸ä¿¡çœ‹äº†ä¸Šé¢çš„è§£é‡Šï¼Œå¤§å®¶å·²ç»ææ‡‚ <code>ThreadLocal</code> ç±»æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿äº†ã€‚ä¸‹é¢ç®€å•æ¼”ç¤ºä¸€ä¸‹å¦‚ä½•åœ¨é¡¹ç›®ä¸­å®é™…ä½¿ç”¨ <code>ThreadLocal</code> ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadLocalExample</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line"></span><br><span class="line">     <span class="comment">// SimpleDateFormat ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ‰€ä»¥æ¯ä¸ªçº¿ç¨‹éƒ½è¦æœ‰è‡ªå·±ç‹¬ç«‹çš„å‰¯æœ¬</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ThreadLocal&lt;SimpleDateFormat&gt; formatter = ThreadLocal.withInitial(() -&gt; <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyyMMdd HHmm&quot;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="type">ThreadLocalExample</span> <span class="variable">obj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadLocalExample</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span> ; i&lt;<span class="number">10</span>; i++)&#123;</span><br><span class="line">            <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(obj, <span class="string">&quot;&quot;</span>+i);</span><br><span class="line">            Thread.sleep(<span class="keyword">new</span> <span class="title class_">Random</span>().nextInt(<span class="number">1000</span>));</span><br><span class="line">            t.start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Thread Name= &quot;</span>+Thread.currentThread().getName()+<span class="string">&quot; default Formatter = &quot;</span>+formatter.get().toPattern());</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="keyword">new</span> <span class="title class_">Random</span>().nextInt(<span class="number">1000</span>));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//formatter pattern is changed here by thread, but it won&#x27;t reflect to other threads</span></span><br><span class="line">        formatter.set(<span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>());</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;Thread Name= &quot;</span>+Thread.currentThread().getName()+<span class="string">&quot; formatter = &quot;</span>+formatter.get().toPattern());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœ :</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Thread Name= 0 default Formatter = yyyyMMdd HHmm</span><br><span class="line">Thread Name= 0 formatter = yy-M-d ah:mm</span><br><span class="line">Thread Name= 1 default Formatter = yyyyMMdd HHmm</span><br><span class="line">Thread Name= 2 default Formatter = yyyyMMdd HHmm</span><br><span class="line">Thread Name= 1 formatter = yy-M-d ah:mm</span><br><span class="line">Thread Name= 3 default Formatter = yyyyMMdd HHmm</span><br><span class="line">Thread Name= 2 formatter = yy-M-d ah:mm</span><br><span class="line">Thread Name= 4 default Formatter = yyyyMMdd HHmm</span><br><span class="line">Thread Name= 3 formatter = yy-M-d ah:mm</span><br><span class="line">Thread Name= 4 formatter = yy-M-d ah:mm</span><br><span class="line">Thread Name= 5 default Formatter = yyyyMMdd HHmm</span><br><span class="line">Thread Name= 5 formatter = yy-M-d ah:mm</span><br><span class="line">Thread Name= 6 default Formatter = yyyyMMdd HHmm</span><br><span class="line">Thread Name= 6 formatter = yy-M-d ah:mm</span><br><span class="line">Thread Name= 7 default Formatter = yyyyMMdd HHmm</span><br><span class="line">Thread Name= 7 formatter = yy-M-d ah:mm</span><br><span class="line">Thread Name= 8 default Formatter = yyyyMMdd HHmm</span><br><span class="line">Thread Name= 9 default Formatter = yyyyMMdd HHmm</span><br><span class="line">Thread Name= 8 formatter = yy-M-d ah:mm</span><br><span class="line">Thread Name= 9 formatter = yy-M-d ah:mm</span><br></pre></td></tr></table></figure>

<p>ä»è¾“å‡ºä¸­å¯ä»¥çœ‹å‡ºï¼Œè™½ç„¶ <code>Thread-0</code> å·²ç»æ”¹å˜äº† <code>formatter</code> çš„å€¼ï¼Œä½† <code>Thread-1</code> é»˜è®¤æ ¼å¼åŒ–å€¼ä¸åˆå§‹åŒ–å€¼ç›¸åŒï¼Œå…¶ä»–çº¿ç¨‹ä¹Ÿä¸€æ ·ã€‚</p>
<p>ä¸Šé¢æœ‰ä¸€æ®µä»£ç ç”¨åˆ°äº†åˆ›å»º <code>ThreadLocal</code> å˜é‡çš„é‚£æ®µä»£ç ç”¨åˆ°äº† Java8 çš„çŸ¥è¯†ï¼Œå®ƒç­‰äºä¸‹é¢è¿™æ®µä»£ç ï¼Œå¦‚æœä½ å†™äº†ä¸‹é¢è¿™æ®µä»£ç çš„è¯ï¼ŒIDEA ä¼šæç¤ºä½ è½¬æ¢ä¸º Java8 çš„æ ¼å¼(IDEA çœŸçš„ä¸é”™ï¼)ã€‚å› ä¸º ThreadLocal ç±»åœ¨ Java 8 ä¸­æ‰©å±•ï¼Œä½¿ç”¨ä¸€ä¸ªæ–°çš„æ–¹æ³•<code>withInitial()</code>ï¼Œå°† Supplier åŠŸèƒ½æ¥å£ä½œä¸ºå‚æ•°ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ThreadLocal&lt;SimpleDateFormat&gt; formatter = <span class="keyword">new</span> <span class="title class_">ThreadLocal</span>&lt;SimpleDateFormat&gt;()&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> SimpleDateFormat <span class="title function_">initialValue</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyyMMdd HHmm&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h5 id="ThreadLocal-åŸç†"><a href="#ThreadLocal-åŸç†" class="headerlink" title="ThreadLocal åŸç†"></a>ThreadLocal åŸç†</h5><p>ä» <code>Thread</code>ç±»æºä»£ç å…¥æ‰‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="comment">//......</span></span><br><span class="line">    <span class="comment">//ä¸æ­¤çº¿ç¨‹æœ‰å…³çš„ThreadLocalå€¼ã€‚ç”±ThreadLocalç±»ç»´æŠ¤</span></span><br><span class="line">    ThreadLocal.<span class="type">ThreadLocalMap</span> <span class="variable">threadLocals</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¸æ­¤çº¿ç¨‹æœ‰å…³çš„InheritableThreadLocalå€¼ã€‚ç”±InheritableThreadLocalç±»ç»´æŠ¤</span></span><br><span class="line">    ThreadLocal.<span class="type">ThreadLocalMap</span> <span class="variable">inheritableThreadLocals</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="comment">//......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»ä¸Šé¢<code>Thread</code>ç±» æºä»£ç å¯ä»¥çœ‹å‡º<code>Thread</code> ç±»ä¸­æœ‰ä¸€ä¸ª <code>threadLocals</code> å’Œ ä¸€ä¸ª <code>inheritableThreadLocals</code> å˜é‡ï¼Œå®ƒä»¬éƒ½æ˜¯ <code>ThreadLocalMap</code> ç±»å‹çš„å˜é‡,æˆ‘ä»¬å¯ä»¥æŠŠ <code>ThreadLocalMap</code> ç†è§£ä¸º<code>ThreadLocal</code> ç±»å®ç°çš„å®šåˆ¶åŒ–çš„ <code>HashMap</code>ã€‚é»˜è®¤æƒ…å†µä¸‹è¿™ä¸¤ä¸ªå˜é‡éƒ½æ˜¯ nullï¼Œåªæœ‰å½“å‰çº¿ç¨‹è°ƒç”¨ <code>ThreadLocal</code> ç±»çš„ <code>set</code>æˆ–<code>get</code>æ–¹æ³•æ—¶æ‰åˆ›å»ºå®ƒä»¬ï¼Œå®é™…ä¸Šè°ƒç”¨è¿™ä¸¤ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œæˆ‘ä»¬è°ƒç”¨çš„æ˜¯<code>ThreadLocalMap</code>ç±»å¯¹åº”çš„ <code>get()</code>ã€<code>set()</code>æ–¹æ³•ã€‚</p>
<p><code>ThreadLocal</code>ç±»çš„<code>set()</code>æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(T value)</span> &#123;</span><br><span class="line">    <span class="comment">//è·å–å½“å‰è¯·æ±‚çš„çº¿ç¨‹</span></span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> Thread.currentThread();</span><br><span class="line">    <span class="comment">//å–å‡º Thread ç±»å†…éƒ¨çš„ threadLocals å˜é‡(å“ˆå¸Œè¡¨ç»“æ„)</span></span><br><span class="line">    <span class="type">ThreadLocalMap</span> <span class="variable">map</span> <span class="operator">=</span> getMap(t);</span><br><span class="line">    <span class="keyword">if</span> (map != <span class="literal">null</span>)</span><br><span class="line">        <span class="comment">// å°†éœ€è¦å­˜å‚¨çš„å€¼æ”¾å…¥åˆ°è¿™ä¸ªå“ˆå¸Œè¡¨ä¸­</span></span><br><span class="line">        map.set(<span class="built_in">this</span>, value);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        createMap(t, value);</span><br><span class="line">&#125;</span><br><span class="line">ThreadLocalMap <span class="title function_">getMap</span><span class="params">(Thread t)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> t.threadLocals;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä¸Šé¢è¿™äº›å†…å®¹ï¼Œæˆ‘ä»¬è¶³ä»¥é€šè¿‡çŒœæµ‹å¾—å‡ºç»“è®ºï¼š<strong>æœ€ç»ˆçš„å˜é‡æ˜¯æ”¾åœ¨äº†å½“å‰çº¿ç¨‹çš„ <code>ThreadLocalMap</code> ä¸­ï¼Œå¹¶ä¸æ˜¯å­˜åœ¨ <code>ThreadLocal</code> ä¸Šï¼Œ<code>ThreadLocal</code> å¯ä»¥ç†è§£ä¸ºåªæ˜¯<code>ThreadLocalMap</code>çš„å°è£…ï¼Œä¼ é€’äº†å˜é‡å€¼ã€‚</strong> <code>ThrealLocal</code> ç±»ä¸­å¯ä»¥é€šè¿‡<code>Thread.currentThread()</code>è·å–åˆ°å½“å‰çº¿ç¨‹å¯¹è±¡åï¼Œç›´æ¥é€šè¿‡<code>getMap(Thread t)</code>å¯ä»¥è®¿é—®åˆ°è¯¥çº¿ç¨‹çš„<code>ThreadLocalMap</code>å¯¹è±¡ã€‚</p>
<p><strong>æ¯ä¸ª<code>Thread</code>ä¸­éƒ½å…·å¤‡ä¸€ä¸ª<code>ThreadLocalMap</code>ï¼Œè€Œ<code>ThreadLocalMap</code>å¯ä»¥å­˜å‚¨ä»¥<code>ThreadLocal</code>ä¸º key ï¼ŒObject å¯¹è±¡ä¸º value çš„é”®å€¼å¯¹ã€‚</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ThreadLocalMap(ThreadLocal&lt;?&gt; firstKey, Object firstValue) &#123;</span><br><span class="line">    <span class="comment">//......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¯”å¦‚æˆ‘ä»¬åœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸­å£°æ˜äº†ä¸¤ä¸ª <code>ThreadLocal</code> å¯¹è±¡çš„è¯ï¼Œ <code>Thread</code>å†…éƒ¨éƒ½æ˜¯ä½¿ç”¨ä»…æœ‰çš„é‚£ä¸ª<code>ThreadLocalMap</code> å­˜æ”¾æ•°æ®çš„ï¼Œ<code>ThreadLocalMap</code>çš„ key å°±æ˜¯ <code>ThreadLocal</code>å¯¹è±¡ï¼Œvalue å°±æ˜¯ <code>ThreadLocal</code> å¯¹è±¡è°ƒç”¨<code>set</code>æ–¹æ³•è®¾ç½®çš„å€¼ã€‚</p>
<p><code>ThreadLocal</code> æ•°æ®ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://gitee.com/EmotionalZ/pic-go/raw/master/img/threadlocal-data-structure.png" alt="ThreadLocal æ•°æ®ç»“æ„">ThreadLocal æ•°æ®ç»“æ„</p>
<p><code>ThreadLocalMap</code>æ˜¯<code>ThreadLocal</code>çš„é™æ€å†…éƒ¨ç±»ã€‚</p>
<p><img src="https://oss.javaguide.cn/github/javaguide/java/concurrent/thread-local-inner-class.png" alt="ThreadLocalå†…éƒ¨ç±»">ThreadLocalå†…éƒ¨ç±»</p>
<h5 id="ThreadLocal-å†…å­˜æ³„éœ²é—®é¢˜æ˜¯æ€ä¹ˆå¯¼è‡´çš„ï¼Ÿ"><a href="#ThreadLocal-å†…å­˜æ³„éœ²é—®é¢˜æ˜¯æ€ä¹ˆå¯¼è‡´çš„ï¼Ÿ" class="headerlink" title="# ThreadLocal å†…å­˜æ³„éœ²é—®é¢˜æ˜¯æ€ä¹ˆå¯¼è‡´çš„ï¼Ÿ"></a><a href="#threadlocal-%E5%86%85%E5%AD%98%E6%B3%84%E9%9C%B2%E9%97%AE%E9%A2%98%E6%98%AF%E6%80%8E%E4%B9%88%E5%AF%BC%E8%87%B4%E7%9A%84">#</a> ThreadLocal å†…å­˜æ³„éœ²é—®é¢˜æ˜¯æ€ä¹ˆå¯¼è‡´çš„ï¼Ÿ</h5><p><code>ThreadLocalMap</code> ä¸­ä½¿ç”¨çš„ key ä¸º <code>ThreadLocal</code> çš„å¼±å¼•ç”¨ï¼Œè€Œ value æ˜¯å¼ºå¼•ç”¨ã€‚æ‰€ä»¥ï¼Œå¦‚æœ <code>ThreadLocal</code> æ²¡æœ‰è¢«å¤–éƒ¨å¼ºå¼•ç”¨çš„æƒ…å†µä¸‹ï¼Œåœ¨åƒåœ¾å›æ”¶çš„æ—¶å€™ï¼Œkey ä¼šè¢«æ¸…ç†æ‰ï¼Œè€Œ value ä¸ä¼šè¢«æ¸…ç†æ‰ã€‚</p>
<p>è¿™æ ·ä¸€æ¥ï¼Œ<code>ThreadLocalMap</code> ä¸­å°±ä¼šå‡ºç° key ä¸º null çš„ Entryã€‚å‡å¦‚æˆ‘ä»¬ä¸åšä»»ä½•æªæ–½çš„è¯ï¼Œvalue æ°¸è¿œæ— æ³•è¢« GC å›æ”¶ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯èƒ½ä¼šäº§ç”Ÿå†…å­˜æ³„éœ²ã€‚<code>ThreadLocalMap</code> å®ç°ä¸­å·²ç»è€ƒè™‘äº†è¿™ç§æƒ…å†µï¼Œåœ¨è°ƒç”¨ <code>set()</code>ã€<code>get()</code>ã€<code>remove()</code> æ–¹æ³•çš„æ—¶å€™ï¼Œä¼šæ¸…ç†æ‰ key ä¸º null çš„è®°å½•ã€‚ä½¿ç”¨å®Œ <code>ThreadLocal</code>æ–¹æ³•åæœ€å¥½æ‰‹åŠ¨è°ƒç”¨<code>remove()</code>æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Entry</span> <span class="keyword">extends</span> <span class="title class_">WeakReference</span>&lt;ThreadLocal&lt;?&gt;&gt; &#123;</span><br><span class="line">    <span class="comment">/** The value associated with this ThreadLocal. */</span></span><br><span class="line">    Object value;</span><br><span class="line"></span><br><span class="line">    Entry(ThreadLocal&lt;?&gt; k, Object v) &#123;</span><br><span class="line">        <span class="built_in">super</span>(k);</span><br><span class="line">        value = v;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¼±å¼•ç”¨ä»‹ç»ï¼š</strong></p>
<blockquote>
<p>å¦‚æœä¸€ä¸ªå¯¹è±¡åªå…·æœ‰å¼±å¼•ç”¨ï¼Œé‚£å°±ç±»ä¼¼äº<strong>å¯æœ‰å¯æ— çš„ç”Ÿæ´»ç”¨å“</strong>ã€‚å¼±å¼•ç”¨ä¸è½¯å¼•ç”¨çš„åŒºåˆ«åœ¨äºï¼šåªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡æ‹¥æœ‰æ›´çŸ­æš‚çš„ç”Ÿå‘½å‘¨æœŸã€‚åœ¨åƒåœ¾å›æ”¶å™¨çº¿ç¨‹æ‰«æå®ƒ æ‰€ç®¡è¾–çš„å†…å­˜åŒºåŸŸçš„è¿‡ç¨‹ä¸­ï¼Œä¸€æ—¦å‘ç°äº†åªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡ï¼Œä¸ç®¡å½“å‰å†…å­˜ç©ºé—´è¶³å¤Ÿä¸å¦ï¼Œéƒ½ä¼šå›æ”¶å®ƒçš„å†…å­˜ã€‚ä¸è¿‡ï¼Œç”±äºåƒåœ¾å›æ”¶å™¨æ˜¯ä¸€ä¸ªä¼˜å…ˆçº§å¾ˆä½çš„çº¿ç¨‹ï¼Œ å› æ­¤ä¸ä¸€å®šä¼šå¾ˆå¿«å‘ç°é‚£äº›åªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡ã€‚</p>
<p>å¼±å¼•ç”¨å¯ä»¥å’Œä¸€ä¸ªå¼•ç”¨é˜Ÿåˆ—ï¼ˆReferenceQueueï¼‰è”åˆä½¿ç”¨ï¼Œå¦‚æœå¼±å¼•ç”¨æ‰€å¼•ç”¨çš„å¯¹è±¡è¢«åƒåœ¾å›æ”¶ï¼ŒJava è™šæ‹Ÿæœºå°±ä¼šæŠŠè¿™ä¸ªå¼±å¼•ç”¨åŠ å…¥åˆ°ä¸ä¹‹å…³è”çš„å¼•ç”¨é˜Ÿåˆ—ä¸­ã€‚</p>
</blockquote>
<h4 id="é™æ€æ–¹æ³•ï¼šstartPageï¼š"><a href="#é™æ€æ–¹æ³•ï¼šstartPageï¼š" class="headerlink" title="é™æ€æ–¹æ³•ï¼šstartPageï¼š"></a>é™æ€æ–¹æ³•ï¼šstartPageï¼š</h4><p>æ ¹æ®åˆ†é¡µå‚æ•°ä¿å­˜äº†ä¸€ä¸ªPageè®¾ç½®åˆ°ThreadLocalä¸­ä¿å­˜èµ·æ¥ã€‚</p>
<h4 id="PageIntercepter"><a href="#PageIntercepter" class="headerlink" title="PageIntercepter"></a>PageIntercepter</h4><p>1ã€æ³¨è§£ï¼š@Interceptsï¼Œæ˜¯mybatisæä¾›çš„æ’ä»¶åŠŸèƒ½ï¼Œmethod &#x3D; â€œqueryâ€è¯´æ˜æ˜¯é’ˆå¯¹queryæ–¹æ³•çš„æ’ä»¶ï¼Œç®€å•çš„å¯ä»¥ç†è§£ä¸ºï¼šè¿™ä¸ªç±»å¯ä»¥æ‹¦æˆªæ‰€æœ‰åŸºäºmybatisçš„æŸ¥è¯¢ï¼Œå› ä¸ºæŸ¥è¯¢æ¥å£æœ€åéƒ½ä¼šè°ƒç”¨åˆ°queryæ–¹æ³•ã€‚</p>
<blockquote>
<p><code>Mybatis</code>æ‹¦æˆªå™¨å¯ä»¥å¯¹ä¸‹é¢4ç§å¯¹è±¡è¿›è¡Œæ‹¦æˆªï¼š</p>
<p>â€¢ <code>Executor</code>ï¼šmybatisçš„å†…éƒ¨æ‰§è¡Œå™¨ï¼Œä½œä¸ºè°ƒåº¦æ ¸å¿ƒè´Ÿè´£è°ƒç”¨StatementHandleræ“ä½œæ•°æ®åº“ï¼Œå¹¶æŠŠç»“æœé›†é€šè¿‡ResultSetHandlerè¿›è¡Œè‡ªåŠ¨æ˜ å°„<br>â€¢ <code>StatementHandler</code>ï¼šå°è£…äº†JDBC Statementæ“ä½œï¼Œæ˜¯sqlè¯­æ³•çš„æ„å»ºå™¨ï¼Œè´Ÿè´£å’Œæ•°æ®åº“è¿›è¡Œäº¤äº’æ‰§è¡Œsqlè¯­å¥<br>â€¢ <code>ParameterHandler</code>ï¼šä½œä¸ºå¤„ç†sqlå‚æ•°è®¾ç½®çš„å¯¹è±¡ï¼Œä¸»è¦å®ç°è¯»å–å‚æ•°å’Œå¯¹PreparedStatementçš„å‚æ•°è¿›è¡Œèµ‹å€¼<br>â€¢ <code>ResultSetHandler</code>ï¼šå¤„ç†Statementæ‰§è¡Œå®Œæˆåè¿”å›ç»“æœé›†çš„æ¥å£å¯¹è±¡ï¼Œmybatisé€šè¿‡å®ƒæŠŠResultSeté›†åˆæ˜ å°„æˆå®ä½“å¯¹è±¡</p>
</blockquote>
<p>2ã€å…¶ä¸­ä»£ç åšäº†ä¸€äº›æ˜¯å¦è¦åˆ†é¡µç­‰åˆ¤æ–­ï¼Œæˆ‘ä»¬å…ˆå§‘ä¸”ä¸å…³æ³¨ï¼Œç›´æ¥å…³æ³¨æ ‡è®°@1çš„æ ¸å¿ƒä»£ç ã€‚ExecutorUtil.pageQueryï¼Œè¿™æ˜¯ä¸€ä¸ªåˆ†é¡µæŸ¥è¯¢æ–¹æ³•</p>
<h3 id="PageHelper-å®‰å…¨è°ƒç”¨"><a href="#PageHelper-å®‰å…¨è°ƒç”¨" class="headerlink" title="PageHelper å®‰å…¨è°ƒç”¨"></a><code>PageHelper</code> å®‰å…¨è°ƒç”¨</h3><h4 id="ä½¿ç”¨-RowBounds-å’Œ-PageRowBounds-å‚æ•°æ–¹å¼æ˜¯æå…¶å®‰å…¨çš„"><a href="#ä½¿ç”¨-RowBounds-å’Œ-PageRowBounds-å‚æ•°æ–¹å¼æ˜¯æå…¶å®‰å…¨çš„" class="headerlink" title="ä½¿ç”¨ RowBounds å’Œ PageRowBounds å‚æ•°æ–¹å¼æ˜¯æå…¶å®‰å…¨çš„"></a>ä½¿ç”¨ <code>RowBounds</code> å’Œ <code>PageRowBounds</code> å‚æ•°æ–¹å¼æ˜¯æå…¶å®‰å…¨çš„</h4><h4 id="ä½¿ç”¨å‚æ•°æ–¹å¼æ˜¯æå…¶å®‰å…¨çš„"><a href="#ä½¿ç”¨å‚æ•°æ–¹å¼æ˜¯æå…¶å®‰å…¨çš„" class="headerlink" title="ä½¿ç”¨å‚æ•°æ–¹å¼æ˜¯æå…¶å®‰å…¨çš„"></a>ä½¿ç”¨å‚æ•°æ–¹å¼æ˜¯æå…¶å®‰å…¨çš„</h4><h4 id="ä½¿ç”¨-ISelect-æ¥å£è°ƒç”¨æ˜¯æå…¶å®‰å…¨çš„"><a href="#ä½¿ç”¨-ISelect-æ¥å£è°ƒç”¨æ˜¯æå…¶å®‰å…¨çš„" class="headerlink" title="ä½¿ç”¨ ISelect æ¥å£è°ƒç”¨æ˜¯æå…¶å®‰å…¨çš„"></a>ä½¿ç”¨ ISelect æ¥å£è°ƒç”¨æ˜¯æå…¶å®‰å…¨çš„</h4><p>ISelect æ¥å£æ–¹å¼é™¤äº†å¯ä»¥ä¿è¯å®‰å…¨å¤–ï¼Œè¿˜ç‰¹åˆ«å®ç°äº†å°†æŸ¥è¯¢è½¬æ¢ä¸ºå•çº¯çš„ count æŸ¥è¯¢æ–¹å¼ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥å°†ä»»æ„çš„æŸ¥è¯¢æ–¹æ³•ï¼Œå˜æˆä¸€ä¸ª <code>select count(*)</code> çš„æŸ¥è¯¢æ–¹æ³•ã€‚</p>
<h4 id="ä»€ä¹ˆæ—¶å€™ä¼šå¯¼è‡´ä¸å®‰å…¨çš„åˆ†é¡µï¼Ÿ"><a href="#ä»€ä¹ˆæ—¶å€™ä¼šå¯¼è‡´ä¸å®‰å…¨çš„åˆ†é¡µï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ—¶å€™ä¼šå¯¼è‡´ä¸å®‰å…¨çš„åˆ†é¡µï¼Ÿ"></a>ä»€ä¹ˆæ—¶å€™ä¼šå¯¼è‡´ä¸å®‰å…¨çš„åˆ†é¡µï¼Ÿ</h4><p><code>PageHelper</code> æ–¹æ³•ä½¿ç”¨äº†é™æ€çš„ <code>ThreadLocal</code> å‚æ•°ï¼Œåˆ†é¡µå‚æ•°å’Œçº¿ç¨‹æ˜¯ç»‘å®šçš„ã€‚</p>
<p>åªè¦ä½ å¯ä»¥ä¿è¯åœ¨ <code>PageHelper</code> æ–¹æ³•è°ƒç”¨åç´§è·Ÿ MyBatis æŸ¥è¯¢æ–¹æ³•ï¼Œè¿™å°±æ˜¯å®‰å…¨çš„ã€‚å› ä¸º <code>PageHelper</code> åœ¨ <code>finally</code> ä»£ç æ®µä¸­è‡ªåŠ¨æ¸…é™¤äº† <code>ThreadLocal</code> å­˜å‚¨çš„å¯¹è±¡ã€‚</p>
<p>å¦‚æœä»£ç åœ¨è¿›å…¥ <code>Executor</code> å‰å‘ç”Ÿå¼‚å¸¸ï¼Œå°±ä¼šå¯¼è‡´çº¿ç¨‹ä¸å¯ç”¨ï¼Œè¿™å±äºäººä¸ºçš„ Bugï¼ˆä¾‹å¦‚æ¥å£æ–¹æ³•å’Œ XML ä¸­çš„ä¸åŒ¹é…ï¼Œå¯¼è‡´æ‰¾ä¸åˆ° <code>MappedStatement</code> æ—¶ï¼‰ï¼Œ è¿™ç§æƒ…å†µç”±äºçº¿ç¨‹ä¸å¯ç”¨ï¼Œä¹Ÿä¸ä¼šå¯¼è‡´ <code>ThreadLocal</code> å‚æ•°è¢«é”™è¯¯çš„ä½¿ç”¨ã€‚</p>
<p>ä½†æ˜¯å¦‚æœä½ å†™å‡ºä¸‹é¢è¿™æ ·çš„ä»£ç ï¼Œå°±æ˜¯ä¸å®‰å…¨çš„ç”¨æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">PageHelper.startPage(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">List&lt;Country&gt; list;</span><br><span class="line"><span class="keyword">if</span>(param1 != <span class="literal">null</span>)&#123;</span><br><span class="line">    list = countryMapper.selectIf(param1);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Country&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ç§æƒ…å†µä¸‹ç”±äº param1 å­˜åœ¨ null çš„æƒ…å†µï¼Œå°±ä¼šå¯¼è‡´ PageHelper ç”Ÿäº§äº†ä¸€ä¸ªåˆ†é¡µå‚æ•°ï¼Œä½†æ˜¯æ²¡æœ‰è¢«æ¶ˆè´¹ï¼Œè¿™ä¸ªå‚æ•°å°±ä¼šä¸€ç›´ä¿ç•™åœ¨è¿™ä¸ªçº¿ç¨‹ä¸Šã€‚å½“è¿™ä¸ªçº¿ç¨‹å†æ¬¡è¢«ä½¿ç”¨æ—¶ï¼Œå°±å¯èƒ½å¯¼è‡´ä¸è¯¥åˆ†é¡µçš„æ–¹æ³•å»æ¶ˆè´¹è¿™ä¸ªåˆ†é¡µå‚æ•°ï¼Œè¿™å°±äº§ç”Ÿäº†è«åå…¶å¦™çš„åˆ†é¡µã€‚</p>
<p>ä¸Šé¢è¿™ä¸ªä»£ç ï¼Œåº”è¯¥å†™æˆä¸‹é¢è¿™ä¸ªæ ·å­ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Country&gt; list;</span><br><span class="line"><span class="keyword">if</span>(param1 != <span class="literal">null</span>)&#123;</span><br><span class="line">    PageHelper.startPage(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">    list = countryMapper.selectIf(param1);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Country&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ç§å†™æ³•å°±èƒ½ä¿è¯å®‰å…¨ã€‚</p>
<p>å¦‚æœä½ å¯¹æ­¤ä¸æ”¾å¿ƒï¼Œä½ å¯ä»¥æ‰‹åŠ¨æ¸…ç† <code>ThreadLocal</code> å­˜å‚¨çš„åˆ†é¡µå‚æ•°ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·ä½¿ç”¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Country&gt; list;</span><br><span class="line"><span class="keyword">if</span>(param1 != <span class="literal">null</span>)&#123;</span><br><span class="line">    PageHelper.startPage(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        list = countryMapper.selectAll();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        PageHelper.clearPage();</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Country&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¹ˆå†™å¾ˆä¸å¥½çœ‹ï¼Œè€Œä¸”æ²¡æœ‰å¿…è¦ã€‚</p>
<h2 id="Mybatis-Generator"><a href="#Mybatis-Generator" class="headerlink" title="Mybatis-Generator"></a>Mybatis-Generator</h2><h3 id="æ³¨æ„äº‹é¡¹-4"><a href="#æ³¨æ„äº‹é¡¹-4" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><p>ç”Ÿæˆçš„ä»£ç å¯èƒ½æœ‰é—®é¢˜ï¼Œå¦‚æœå‡ºç°SyntaxException  â†’ ä¸€å®šè¦çœ‹æ§åˆ¶å°é‡Œçš„sql â†’ æ£€æŸ¥ä½ çš„sqlè¯­å¥</p>
<h3 id="TypeHandler"><a href="#TypeHandler" class="headerlink" title="TypeHandler"></a>TypeHandler</h3><blockquote>
<ol>
<li>MyBatisä¹‹æ‰€ä»¥èƒ½è§£å†³MySQLå­—æ®µå’ŒJavaå±æ€§ä¹‹é—´çš„åŒ¹é…ï¼Œå…¨éƒ½ä¾èµ–äº<code>org.apache.ibatis.type.BaseTypeHandler&lt;T&gt;</code>æŠ½è±¡ç±»ï¼Œåœ¨è¯¥ç±»ä¸­å®šä¹‰äº†3ä¸ªè·å–ç»“æœçš„æ–¹æ³•ã€1ä¸ªæ›´æ–°çš„æ–¹æ³•å’Œ4ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰è¯¥æŠ½è±¡ç±»æ¥å®ç°è¿™ä¸ª4ä¸ªæŠ½è±¡æ–¹æ³•è¿›è¡ŒJavaç±»çš„å±æ€§å’Œè¡¨å­—æ®µçš„æ˜ å°„ï¼Œå¯ä»¥åšä¸€äº›ç›¸å…³çš„å¤„ç†ã€‚</li>
<li>MyBatisåœ¨<code>org.apache.ibatis.type</code>åŒ…ä¸­å®šä¹‰äº†å¸¸ç”¨çš„å­—æ®µæ˜ å°„<code>Handler</code>ï¼Œå¹¶ä¸”åœ¨æœåŠ¡å¯åŠ¨çš„æ—¶å€™ä¼šåœ¨<code>TypeHandlerRegistry</code>æ„é€ æ–¹æ³•ä¸­å°†å…¶æ³¨å†Œåˆ°ä¸€ä¸ªMapä¸­ï¼Œè€Œ<code>TypeHandlerRegistry</code>æ˜¯åœ¨MyBatisçš„æ ¸å¿ƒç±»<code>Configuration</code>ä¸­è¿›è¡Œçš„å®ä¾‹åŒ–</li>
<li>è‡ªå®šä¹‰çš„<code>Handler</code>å¯ä»¥å…¨å±€é€šç”¨ï¼Œä¸å—é™äºæŸä¸€ä¸ªå­—æ®µæˆ–æŸä¸€ä¸ªJavaç±»</li>
<li>åœ¨ç”ŸæˆMapperæ—¶ä½¿ç”¨<code>&lt;columnOverride&gt;</code>é‡å†™<code>column</code>å£°æ˜ï¼Œç„¶åéœ€è¦æŒ‡å®š<code>jdbcType</code>å’Œ<code>typeHandler</code></li>
</ol>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/31/test-my-site/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Zhao Yi Xiao">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZYX's Blog">
      <meta itemprop="description" content="ZYX_Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ZYX's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/07/31/test-my-site/" class="post-title-link" itemprop="url">test_my_site</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2023-07-31 21:49:22" itemprop="dateCreated datePublished" datetime="2023-07-31T21:49:22+08:00">2023-07-31</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/31/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Zhao Yi Xiao">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZYX's Blog">
      <meta itemprop="description" content="ZYX_Blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | ZYX's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/07/31/hello-world/" class="post-title-link" itemprop="url">Hello World</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2023-07-31 21:47:21" itemprop="dateCreated datePublished" datetime="2023-07-31T21:47:21+08:00">2023-07-31</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>





</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Zhao Yi Xiao</span>
  </div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> å¼ºåŠ›é©±åŠ¨
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="è¿”å›é¡¶éƒ¨">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
